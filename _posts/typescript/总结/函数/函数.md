### å‡½æ•°è¯¦è§£

TypeScript åœ¨ JavaScript å‡½æ•°çš„åŸºç¡€ä¸Šå¢åŠ äº†**ç±»å‹æ³¨è§£**ã€**å‡½æ•°é‡è½½**å’Œ**æ³›å‹æ”¯æŒ**ï¼Œä½¿å‡½æ•°å®šä¹‰æ›´ä¸¥è°¨ä¸”æ˜“äºç»´æŠ¤ã€‚ä»¥ä¸‹æ˜¯ TypeScript å‡½æ•°çš„å®Œæ•´æŒ‡å—ï¼š

---

### ä¸€ã€åŸºç¡€å‡½æ•°å®šä¹‰

#### 1. å‚æ•°ä¸è¿”å›å€¼ç±»å‹æ³¨è§£
```typescript
// æ˜¾å¼æ³¨è§£å‚æ•°å’Œè¿”å›ç±»å‹
function add(a: number, b: number): number {
  return a + b;
}
```

#### 2. ç®­å¤´å‡½æ•°
```typescript
const multiply = (x: number, y: number): number => x * y;
```

#### 3. å¯é€‰å‚æ•°ï¼ˆ`?`ï¼‰
**å¿…é¡»ä½äºå¿…é€‰å‚æ•°ä¹‹å**ï¼š
```typescript
function greet(name: string, greeting?: string): string {
  return `${greeting || "Hello"}, ${name}`;
}
```

#### 4. é»˜è®¤å‚æ•°
```typescript
function createUser(name: string, role: "admin" | "user" = "user") {
  return { name, role };
}
```

#### 5. å‰©ä½™å‚æ•°ï¼ˆRest Parametersï¼‰
```typescript
function sum(...numbers: number[]): number {
  return numbers.reduce((acc, num) => acc + num, 0);
}
```

---

### äºŒã€å‡½æ•°ç±»å‹è¡¨è¾¾å¼

#### 1. å®šä¹‰å‡½æ•°ç±»å‹
```typescript
type MathOperation = (a: number, b: number) => number;
const divide: MathOperation = (a, b) => a / b;
```

#### 2. æ¥å£å®šä¹‰å‡½æ•°ç±»å‹
```typescript
interface StringFormatter {
  (input: string): string;
}

const toUpper: StringFormatter = (str) => str.toUpperCase();
```

---

### ä¸‰ã€å‡½æ•°é‡è½½ï¼ˆOverloadsï¼‰

*å¤„ç†ä¸åŒå‚æ•°ç±»å‹æˆ–æ•°é‡*çš„å‡½æ•°åœºæ™¯ï¼Œéœ€**å…ˆå£°æ˜é‡è½½ç­¾åï¼Œå†å®ç°å…·ä½“é€»è¾‘**ï¼š

#### 1. åŸºç¡€é‡è½½
```typescript
// é‡è½½ç­¾å
function formatInput(input: string): string;
function formatInput(input: number): string;

// å®ç°ç­¾åï¼ˆéœ€å…¼å®¹æ‰€æœ‰é‡è½½ï¼‰
function formatInput(input: string | number): string {
  return typeof input === "string" ? input.trim() : input.toFixed(2);
}

formatInput(" hello "); // "hello"
formatInput(3.1415);    // "3.14"
```

#### 2. è”åˆç±»å‹é‡è½½
```typescript
function parseValue(value: string): string[];
function parseValue(value: number): number[];

function parseValue(value: string | number): string[] | number[] {
  return typeof value === "string" ? value.split(",") : [value];
}
```

---

### å››ã€æ³›å‹å‡½æ•°

é€šè¿‡æ³›å‹*æ”¯æŒå¤šç§ç±»å‹*ï¼Œä¿æŒç±»å‹å…³è”æ€§ï¼š

#### 1. åŸºç¡€æ³›å‹å‡½æ•°
```typescript
function identity<T>(arg: T): T {
  return arg;
}

const num = identity<number>(42);  // number
const str = identity("text");      // è‡ªåŠ¨æ¨æ–­ä¸º string
```

#### 2. çº¦æŸæ³›å‹ç±»å‹
```typescript
interface Lengthwise {
  length: number;
}

function logLength<T extends Lengthwise>(arg: T): void {
  console.log(arg.length);
}

logLength("hello"); // 5
logLength([1, 2]);  // 2
```

#### 3. æ³›å‹ä¸ç®­å¤´å‡½æ•°
```typescript
const reverseArray = <T>(arr: T[]): T[] => arr.reverse();

const numbers = reverseArray([1, 2, 3]); // number[]
const strings = reverseArray(["a", "b"]); // string[]
```

---

### äº”ã€`this` ç±»å‹å¤„ç†

#### 1. æ˜¾å¼æŒ‡å®š `this` ç±»å‹
```typescript
interface Card {
  suit: string;
  rank: string;
  showInfo(this: Card): void;
}

const card: Card = {
  suit: "hearts",
  rank: "K",
  showInfo() {
    console.log(`${this.rank} of ${this.suit}`);
  }
};
```

#### 2. ç®­å¤´å‡½æ•°ç»‘å®š `this`
```typescript
class Counter {
  count = 0;
  increment = () => { // ç®­å¤´å‡½æ•°ç»‘å®š this
    this.count++;
  };
}
```

---

### å…­ã€å‡½æ•°ç±»å‹å…¼å®¹æ€§

#### 1. å‚æ•°ç±»å‹å…¼å®¹æ€§
- **é»˜è®¤**ï¼šå‚æ•°ç±»å‹æ”¯æŒåŒå˜ï¼ˆåå˜ + é€†å˜ï¼‰ã€‚
- **ä¸¥æ ¼æ¨¡å¼**ï¼ˆ`strictFunctionTypes`ï¼‰ï¼šå‚æ•°ç±»å‹å¼ºåˆ¶é€†å˜ï¼ˆæ›´å®‰å…¨ï¼‰ã€‚

#### 2. è¿”å›å€¼ç±»å‹å…¼å®¹æ€§
å¿…é¡»æ»¡è¶³åå˜ï¼ˆå­ç±»å‹å¯æ›¿ä»£çˆ¶ç±»å‹ï¼‰ã€‚

---

### ä¸ƒã€æœ€ä½³å®è·µ

1. **ä¼˜å…ˆæ˜¾å¼æ³¨è§£ç±»å‹**ï¼šæå‡å¯è¯»æ€§å’Œå®‰å…¨æ€§ã€‚
2. **åˆç†ä½¿ç”¨é‡è½½**ï¼šé¿å…è¿‡åº¦å¤æ‚ï¼Œä¼˜å…ˆè€ƒè™‘è”åˆç±»å‹æˆ–æ³›å‹ã€‚
3. **æ…ç”¨å¯é€‰å‚æ•°**ï¼šç¡®ä¿å¯é€‰å‚æ•°ä½äºå‚æ•°åˆ—è¡¨æœ«å°¾ã€‚
4. **åˆ©ç”¨æ³›å‹å¢å¼ºçµæ´»æ€§**ï¼šå¤„ç†å¤šç±»å‹åœºæ™¯ã€‚
5. **å¯ç”¨ä¸¥æ ¼æ¨¡å¼**ï¼šé€šè¿‡ `strictFunctionTypes` æå‡å‡½æ•°å‚æ•°å®‰å…¨æ€§ã€‚

---

### ç¤ºä¾‹ï¼šç»¼åˆåº”ç”¨

```typescript
// æ³›å‹ + é‡è½½ + é»˜è®¤å‚æ•°
function mergeObjects<T extends object, U extends object>(obj1: T, obj2: U, overwrite?: boolean): T & U;
function mergeObjects<T extends object>(obj1: T, obj2: Partial<T>, overwrite = true): T {
  return { ...obj1, ...(overwrite ? obj2 : {}) };
}

const user = mergeObjects({ name: "Alice" }, { age: 30 }, false);
// user ç±»å‹ä¸º { name: string; age: number }
```

---

æŒæ¡è¿™äº›æŠ€å·§åï¼ŒTypeScript å‡½æ•°å°†å…¼å…·çµæ´»æ€§ä¸å®‰å…¨æ€§ï¼ŒåŠ©ä½ æ„å»ºæ›´å¥å£®çš„åº”ç”¨ï¼ ğŸš€
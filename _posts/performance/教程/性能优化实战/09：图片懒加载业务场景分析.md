【两小时，带你深入前端性能优化方案】 https://www.bilibili.com/video/BV1GAWDe7E3k/?p=9&share_source=copy_web&vd_source=9c1e19a73fa7bd23bb37aa8d7467d862


视频讲述了图片懒加载业务场景的相关分析及实现思路，具体如下：

- **当前页面图片加载存在的问题**：[00:00]通过控制台查看，当前网页加载了77个图片资源，但用户不可能每次都看到最后一张图片，存在很多没必要加载的图片，只需在用户将要看到时加载即可。
- **图片懒加载实现的初步想法**：[01:38]考虑借助intersection observer来实现图片懒加载功能，但*该方法每次使用必须传入一个DOM对象，而页面中image标签非常多，不可能获取每个image标签的DOM对象*。
- **图片懒加载的实现方案**：[02:44]需要使用Vue中的自定义指令，在Vue3中可通过app.directive完成自定义指令注册。注册自定义指令需传入两个参数，第一个是不需要加v-的指令名字，第二个是包含多个生命周期钩子的配置对象，主要利用mounted钩子（在绑定元素的父组件挂载完成后调用），结合intersection observer监听DOM是否可见，以此实现图片懒加载。
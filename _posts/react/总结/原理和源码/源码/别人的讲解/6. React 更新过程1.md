setState 背后的原理

## 
[00:00]

setState 的两大特性：
- 批量更新：调用setState后不是立即更新，而是选择一个比较恰当的时机，批量处理变更
- 局部更新：只更新相应的组件，而不是整个页面

## 批量更新
[01:07]

两个阶段：
- 收集阶段：收集所有的变更。每次调用setState，都会将变更存储起来，而不是立即执行渲染。通过调度器，合并同一批次中的相同优先级的变更，最终执行一次渲染。
- 触发阶段：触发更新。
	- 什么时候触发？
		- 手动触发。forceUpdate()，使用少。
		- setState 触发。setState的使用场景是在回调函数中（事件函数、生命周期函数）。React内部，在回调完这些函数后，检测是否需要更新，从而触发一次更新


## 局部更新
[02:23]










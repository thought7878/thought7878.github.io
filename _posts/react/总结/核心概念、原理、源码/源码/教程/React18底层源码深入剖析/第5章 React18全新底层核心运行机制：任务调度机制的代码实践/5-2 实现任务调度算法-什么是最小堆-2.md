

本视频讲述了`最小堆`数据结构的基本概念、`完全二叉树`的特性及*其与数组存储的关系*，并介绍了*最小堆的常见操作*（如 pick、push 和 pop）及*其应用场景*。

![[_posts/react/总结/核心概念、原理、源码/源码/教程/React18底层源码深入剖析/第5章 React18全新底层核心运行机制：任务调度机制的代码实践/media/9c3d703d686711470884984d7fbfb726_MD5.webp]]

## 二叉树的基本定义 
[00:14](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=14)
    
- 二叉树的概念  
	`二叉树`是指每个节点*最多有两个子节点*的树结构，称为左子节点和右子节点。

## 满二叉树的定义与特性 
[01:02](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=62)
    
- `满二叉树`的概念  
	每一层上的节点数都达到最大值，*除叶子结点（最后一层外），所有节点都有两个子节点*。
- *节点总数计算公式*  
	层数为 K，K 的满二叉树总节点数为 2K−12K−1。

### 国内外关于满二叉树定义的差异 
[02:53](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=173)
    
- 国内标准要求所有非叶子节点必须有两个子节点，而国外有些资料将“完美二叉树”等同于满二叉树。

## 完全二叉树的定义与特点 
[04:54](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=294)
    
    - 完全二叉树的概念  
        在满二叉树基础上，仅在最下层从右向左连续缺少若干节点。
    - 存储方式  
        完全二叉树适合用数组存储，因其结构规律性强，浪费空间少。

## 满二叉树与完全二叉树的数组索引关系 
[06:54](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=414)
    
    - 父子节点索引公式
        - 父节点索引：⌊i−12⌋⌊2i−1​⌋
        - 左子节点索引：2i+12i+1
        - 右子节点索引：2i+22i+2

## 最小堆的概念与性质 
[07:48](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=468)
    
    - 最小堆的定义  
        最小堆是一棵完全二叉树，且满足任意子树的根节点小于等于其左右子节点。
    - 用途  
        快速获取当前集合中的最小元素。

### 最小堆与其他堆结构对比 
[09:15](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=555)
    
    - 最小堆 vs 最大堆
        - 最小堆：根节点为最小值。
        - 最大堆（又称大顶堆）：根节点为最大值。

### 最小堆的核心操作概述 
[12:13](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=733)
    
    - pick操作  
        获取堆顶元素（即最小值）。
    - push操作  
        向堆中插入一个新元素并重新调整堆结构以保持最小堆性质。
    - pop操作  
        删除堆顶元素并重新调整堆结构。

## 测试用例设计与实现思路 
[15:35](https://b.quark.cn/apps/5AZ7aRopS/routes/quark-video-ai-summary/pc?debug=0&fid=649abdd1fba04df493057be1e8facc1d#?seek_t=935)
    
    - 示例代码中使用对象数组模拟任务调度场景，其中 `sortIndex` 字段用于比较大小。
    - 测试逻辑包括：
        - 创建空堆时取最小值失败。
        - 单个元素时返回自身。
        - 多个元素时正确维护堆结构并提取最小值。
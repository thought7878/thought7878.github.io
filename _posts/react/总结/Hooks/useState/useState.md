# Why
- **状态管理需求**
    - **组件内部数据存储**：在构建复杂的用户界面时，***组件需要存储和管理自己的数据***。例如，在一个计数器组件中，需要记录当前的计数；在一个表单组件中，需要保存用户输入的值。`useState`提供了一种简单的方式来在函数组件内部存储这些数据，使得组件能够根据这些数据的变化来更新自己的显示内容。
    - **响应式 UI 更新**：当组件的**状态发生变化时，React 会自动重新渲染组件，更新 UI 以匹配新的状态**。这使得开发者可以轻松地构建响应式的用户界面。例如，在一个购物车组件中，当用户添加或删除商品时，购物车中的商品数量和总价等状态会发生变化，使用`useState`来管理这些状态，React 会自动重新渲染购物车组件，以显示最新的商品数量和总价。
- **组件独立性和复用性**
    - **独立的状态管理**：每个使用`useState`的函数组件都有自己独立的状态。这使得组件之间的状态相互隔离，便于独立开发和维护。例如，一个应用中有多个计数器组件，每个计数器组件都可以使用`useState`来*管理自己的计数状态，它们之间不会相互干扰*。
    - **组件复用**：由于`useState`使得组件能够管理自己的状态，这增强了组件的可复用性。一个带有状态管理的组件可以在不同的场景下被复用，只要它的状态和行为符合新的需求。例如，一个带有展开 / 折叠状态的面板组件，可以通过`useState`管理展开状态，然后在不同的页面或者布局中被复用，用于展示不同的内容。

# What

`useState`是 React 提供的一个 Hook，用于在函数组件中添加和管理状态（state）。*它允许函数组件像类组件一样拥有内部状态，并且当状态发生变化时，会触发组件重新渲染，以更新 UI 来反映状态的变化*。

## 执行机制


# How

**基本语法**：
```jsx
const [state, setState] = useState(initialState);
```
- `state`：是一个变量，代表组件的当前状态。这个状态可以是任何 JavaScript 数据类型，如数字、字符串、对象、数组等。
- `setState`：是一个用于更新状态的函数。当调用`setState`时，React 会重新渲染组件，并使用新的状态值。它可以接受一个新的状态值作为参数，这个参数的类型要与`state`的类型相匹配。
- `initialState`：是状态的初始值。它可以是一个常量，也可以是一个函数的返回值。如果初始值是一个函数，这个函数只会在组件的第一次渲染时被调用，以获取初始状态。
    
**示例（计数器组件）**：

```jsx
import React, { useState } from'react';
function Counter() {
  const [count, setCount] = useState(0);
  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
      <button onClick={() => setCount(count - 1)}>Decrement</button>
    </div>
  );
}
```

在这个计数器组件`Counter`中，首先通过`useState(0)`创建了一个初始值为`0`的状态变量`count`和一个用于更新`count`的函数`setCount`。在`return`语句中，展示了当前的计数`count`，并且有两个按钮，一个用于增加计数（`onClick={() => setCount(count + 1)}`），另一个用于减少计数（`onClick={() => setCount(count - 1)}`）。当按钮被点击时，`setCount`函数被调用，传递一个新的计数数值，React 会根据新的状态重新渲染组件，从而更新显示的计数。
# Why
- **支持服务端渲染（SSR）和客户端渲染（CSR）一致性**
    - **解决 ID 冲突问题**：在 SSR 和 CSR 结合的应用中，在服务器端生成的 HTML 标记可能包含带有`id`属性的元素。如果在客户端重新渲染时，这些`id`没有被正确处理，可能会导致 ID 冲突。例如，一个组件在服务器端生成了一个带有`id="unique - element"`的元素，当客户端重新渲染相同的组件时，如果没有一种机制来确保这个`id`的唯一性和一致性，可能会出现多个相同`id`的元素，这会导致 JavaScript 在操作 DOM（如通过`document.getElementById`）时出现错误。`useId`可以生成在服务器端和客户端都一致的唯一标识符，避免这种 ID 冲突。
    - **跨组件和跨渲染模式的稳定引用**：当组件在不同的渲染模式下（SSR 和 CSR）或者在组件树的不同位置被复用，需要一个稳定的标识符来引用相关元素。例如，在一个包含多个表单组件的应用中，每个表单组件可能有自己的标签（`<label>`）和输入框（`<input>`），通过`useId`可以为每个表单组件生成一对稳定的`id`和`for`属性值，用于正确关联标签和输入框，无论组件是在服务器端还是客户端渲染，都能保证这种关联的正确性。
- **简化唯一 ID 生成过程**
    - **避免手动管理 ID 生成逻辑**：在没有`useId`之前，开发者需要自己编写逻辑来生成唯一的标识符，比如使用`Math.random()`或者其他自定义的算法。然而，这些方法可能会导致生成的 ID 不够稳定或者不够唯一。`useId`提供了一种简单、可靠的方式来生成唯一标识符，并且 React 会自动管理这些 ID 的生成和关联，减轻了开发者的负担。

# What

`useId`是 React 提供的一个 Hook，主要用于*在客户端和服务器端生成唯一的、稳定的标识符（IDs*）。这些标识符可用于关联组件的不同部分，*比如用于在 HTML 元素的`id`属性上*，确保在服务端渲染（SSR）和客户端渲染（CSR）场景下的一致性。


# How

**基本语法**：

```jsx
const id = useId();
```

- 调用`useId`函数会返回一个唯一的标识符字符串。这个字符串可以用于给 HTML 元素的`id`属性赋值或者其他需要唯一标识符的地方。

**示例**：

```jsx
import React, { useId } from'react';
function InputWithLabel() {
  const id = useId();
  return (
    <div>
      <label htmlFor={id}>输入框标签</label>
      <input id={id} type="text" />
    </div>
  );
}
```

**示例说明**：

在`InputWithLabel`组件中，通过`useId`生成一个唯一的标识符`id`。这个`id`被用于关联`<label>`和`<input>`元素，通过`htmlFor`和`id`属性。无论这个组件是在服务器端还是客户端渲染，或者在应用的不同位置被复用，`useId`生成的`id`都能确保`<label>`和`<input>`之间的正确关联，使得用户在点击标签时能够聚焦到对应的输入框。
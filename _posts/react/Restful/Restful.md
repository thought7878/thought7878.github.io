### REST API 是什么？—— 从零开始理解

---

#### **1. 一句话定义**
**REST API** 是一种基于 **HTTP 协议** 的 **Web 服务设计规范**，它遵循 **REST（Representational State Transfer）** 架构原则，**通过 URL 定位资源**，**用 HTTP 方法（GET/POST/PUT/DELETE）操作资源**，*实现不同系统之间的数据交互*。

---

#### **2. 核心特点**
| **特点**          | **说明**                                                                 |
|-------------------|-------------------------------------------------------------------------|
| **资源化**         | 一切皆资源（如用户、订单），用 URL 唯一标识（如 `/users/123`）          |
| **HTTP 方法驱动**  | 通过 GET（查）、POST（增）、PUT（改）、DELETE（删）操作资源             |
| **无状态**         | 服务端不保存客户端状态，每次请求需携带完整信息（如 Token、参数）        |
| **返回格式标准**   | 数据通常以 JSON 或 XML 格式返回                                         |

---

#### **3. 类比理解**
- **图书馆管理系统**：  
  - **资源**：图书（`/books`）、用户（`/users`）。  
  - **操作**：  
    - `GET /books` → 查看所有书籍。  
    - `POST /books` → 新增一本书。  
    - `GET /books/1` → 查看编号为 1 的书籍。  
    - `DELETE /books/1` → 删除编号为 1 的书籍。  

---

#### **4. 一个完整的 REST API 示例**
##### **(1) 请求**  
```http
GET https://api.example.com/users/123
Headers: Authorization: Bearer xxxxxx
```
- **作用**：获取 ID 为 123 的用户信息。  
- **HTTP 方法**：GET（查询）。  
- **URL 结构**：`/users/{id}`（资源定位）。  

##### **(2) 响应**  
```json
{
  "id": 123,
  "name": "小明",
  "email": "xiaoming@example.com",
  "status": 200       // HTTP 状态码（200 表示成功）
}
```

---

#### **5. REST API 设计规范**
| **规则**                | **说明**                                                                 |
|-------------------------|-------------------------------------------------------------------------|
| **URL 使用名词复数**     | 如 `/users`（用户集合），而非动词 `/getUsers`                           |
| **HTTP 方法对应操作**    | GET（查）、POST（增）、PUT（全量更新）、PATCH（部分更新）、DELETE（删）|
| **状态码标准化**         | 200（成功）、201（创建成功）、400（请求错误）、404（资源不存在）        |
| **版本控制**             | 通过 URL（`/v1/users`）或 Header 指定 API 版本                          |

---

#### **6. 与 GraphQL 的对比**
| **维度**   | **REST API**        | **GraphQL**  |
| -------- | ------------------- | ------------ |
| **数据获取** | 固定返回资源的所有字段         | 客户端自定义返回字段   |
| **请求次数** | 复杂数据需多次请求（如用户 + 订单） | 一次请求获取所有关联数据 |
| **灵活性**  | 低（需后端定义接口）          | 高（前端按需查询）    |
| **适用场景** | 简单数据交互、传统项目         | 复杂数据需求、多终端适配 |

---

#### **7. 实际应用场景**
- **前后端分离开发**：前端通过 REST API 获取后端数据。  
- **移动应用后端**：iOS/Android 应用调用同一组 API。  
- **第三方服务集成**：如微信支付、地图 API、天气接口。  
- **微服务架构**：服务间通过 REST API 通信。  

---

#### **8. 如何调用 REST API？**
##### **(1) 使用工具测试**  
- **Postman**：图形化工具，适合调试。  
- **curl 命令**：终端快速测试。  
  ```bash
  curl -X GET https://api.example.com/users/123
  ```

##### **(2) 代码调用（以 JavaScript 为例）**  
```javascript
// 使用 fetch 获取用户数据
fetch('https://api.example.com/users/123', {
  method: 'GET',
  headers: { Authorization: 'Bearer xxxxxx' }
})
  .then(response => response.json())
  .then(data => console.log(data));
```

---

#### **9. 优缺点**
| **优点**                          | **缺点**                          |
|-----------------------------------|-----------------------------------|
| 简单易用，学习成本低              | 数据冗余（返回固定字段）          |
| 兼容性好，支持多种客户端          | 多次请求获取复杂数据（性能问题）  |
| 天然支持 HTTP 缓存机制            | 版本迭代可能导致旧客户端不兼容    |
| 适合标准化、稳定的业务场景        | 灵活性不足（对比 GraphQL）        |

---

### **总结**
- **REST API 是 Web 服务的「通用语言」**，通过 HTTP 方法操作 URL 标识的资源。  
- **核心价值**：简单、标准化、跨平台兼容，适合大多数传统项目。  
- **学习建议**：从设计规范入手，掌握 URL 结构、HTTP 方法和状态码，再用 Postman 或代码实践调用。
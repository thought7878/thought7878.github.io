### **YML æ–‡ä»¶æ ¼å¼è¯¦è§£ï¼ˆYAMLï¼‰**

**YMLï¼ˆYAML Ain't Markup Languageï¼‰** æ˜¯ä¸€ç§**äººç±»å¯è¯»çš„æ•°æ®åºåˆ—åŒ–æ ¼å¼**ï¼Œå¹¿æ³›ç”¨äºé…ç½®æ–‡ä»¶ï¼ˆå¦‚ Docker Composeã€Kubernetesã€Ansible ç­‰ï¼‰ã€‚å®ƒå¼ºè°ƒ**ç®€æ´æ€§ã€å¯è¯»æ€§å’Œæ˜“å†™æ€§**ï¼Œç”¨ç¼©è¿›å’Œç¬¦å·æ›¿ä»£å¤æ‚çš„æ‹¬å·ç»“æ„ã€‚

---

### **æ ¸å¿ƒè®¾è®¡åŸåˆ™**
1. **äººç±»ä¼˜å…ˆ**  
   - è¯­æ³•æ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œæ¯” JSON/XML æ›´æ˜“è¯»å†™ã€‚
2. **ç¼©è¿›å³ç»“æ„**  
   - ç”¨**ç©ºæ ¼ç¼©è¿›**è¡¨ç¤ºå±‚çº§ï¼ˆ**ç¦æ­¢ä½¿ç”¨ Tab**ï¼‰ã€‚
3. **æœ€å°åŒ–ç¬¦å·**  
   - æ— èŠ±æ‹¬å· `{}`ã€åˆ†å· `;`ï¼Œç”¨ `:` å’Œ `-` å®šä¹‰å…³ç³»ã€‚
4. **å…¼å®¹ JSON**  
   - æœ‰æ•ˆçš„ JSON ä¹Ÿæ˜¯æœ‰æ•ˆçš„ YAMLï¼ˆä½† YAML åŠŸèƒ½æ›´ä¸°å¯Œï¼‰ã€‚

> ğŸ’¡ **YAML = YAML Ain't Markup Language**ï¼ˆé€’å½’ç¼©å†™ï¼Œå¼ºè°ƒå®ƒä¸æ˜¯æ ‡è®°è¯­è¨€ï¼‰

---

### **åŸºç¡€è¯­æ³•è§„åˆ™**
#### 1. **é”®å€¼å¯¹ï¼ˆMap/å­—å…¸ï¼‰**
```yaml
# é”®: å€¼ï¼ˆå†’å·åå¿…é¡»æœ‰ç©ºæ ¼ï¼ï¼‰
name: "Alice"
age: 30
is_student: false
```
- **å­—ç¬¦ä¸²**ï¼šå¼•å·å¯é€‰ï¼ˆ`"Alice"` æˆ– `Alice`ï¼‰ï¼Œä½†ç‰¹æ®Šå­—ç¬¦éœ€åŠ å¼•å·ï¼ˆå¦‚ `:`, `{`ï¼‰ã€‚
- **å¸ƒå°”å€¼**ï¼š`true`/`false`ï¼ˆå°å†™ï¼‰ã€‚
- **æ•°å­—**ï¼šç›´æ¥å†™ï¼ˆ`30`ï¼‰ã€‚

#### 2. **åˆ—è¡¨ï¼ˆSequence/æ•°ç»„ï¼‰**
```yaml
fruits:
  - Apple
  - Banana
  - "Orange"  # ç‰¹æ®Šå­—ç¬¦éœ€å¼•å·
```
- æ¯é¡¹ä»¥ `- ` å¼€å¤´ï¼ˆçŸ­æ¨ªçº¿ + ç©ºæ ¼ï¼‰ã€‚
- ç¼©è¿›å¯¹é½è¡¨ç¤ºåŒçº§åˆ—è¡¨ã€‚

#### 3. **åµŒå¥—ç»“æ„**
```yaml
person:
  name: Bob
  age: 25
  hobbies:  # åµŒå¥—åˆ—è¡¨
    - Reading
    - Hiking
  address:  # åµŒå¥—å­—å…¸
    city: "New York"
    zip: 10001
```
- **ç¼©è¿›å†³å®šå±‚çº§**ï¼ˆé€šå¸¸ç”¨ 2 ç©ºæ ¼ï¼‰ã€‚

#### 4. **å¤šè¡Œå­—ç¬¦ä¸²**
```yaml
bio: |
  Hello, I'm a developer.
  I love coding and writing documentation.
  YAML is awesome!

summary: >
  This is a folded line.
  It will be read as a single line.
```
- `|`ï¼šä¿ç•™æ¢è¡Œï¼ˆå­—é¢å—ï¼‰ã€‚
- `>`ï¼šæŠ˜å æ¢è¡Œï¼ˆå•è¡Œæ˜¾ç¤ºï¼Œç”¨ç©ºæ ¼è¿æ¥ï¼‰ã€‚

#### 5. **æ³¨é‡Š**
```yaml
# è¿™æ˜¯å•è¡Œæ³¨é‡Š
key: value  # è¡Œå†…æ³¨é‡Š
```
- ç”¨ `#` å¼€å¤´ã€‚

---

### **é«˜çº§ç‰¹æ€§**
#### 1. **é”šç‚¹ & å¼•ç”¨ï¼ˆé¿å…é‡å¤ï¼‰**
```yaml
defaults: &defaults  # å®šä¹‰é”šç‚¹ï¼ˆ&ï¼‰
  adapter: postgres
  host: localhost

development:
  <<: *defaults  # å¼•ç”¨é”šç‚¹ï¼ˆ*ï¼‰
  database: dev_db

test:
  <<: *defaults
  database: test_db
```
- `&defaults`ï¼šåˆ›å»ºé”šç‚¹åˆ«åã€‚
- `*defaults`ï¼šå¼•ç”¨é”šç‚¹å†…å®¹ã€‚
- `<<`ï¼šåˆå¹¶æ˜ å°„ï¼ˆç±»ä¼¼ç»§æ‰¿ï¼‰ã€‚

#### 2. **å¤šæ–‡æ¡£åˆ†éš”**
```yaml
# æ–‡æ¡£1
name: Doc1

---
# æ–‡æ¡£2
version: 1.0
```
- ç”¨ `---` åˆ†éš”å¤šä¸ªç‹¬ç«‹æ–‡æ¡£ã€‚

#### 3. **æ•°æ®ç±»å‹æ˜¾å¼å£°æ˜**
```yaml
timestamp: !!timestamp 2023-10-05T12:30:00Z
binary: !!binary "R0lGODlhAQABAIAAAAQCBQAAACwAAAAAAQABAAACAkQBADs="
```
- `!!` å¼ºåˆ¶æŒ‡å®šç±»å‹ï¼ˆå¦‚æ—¶é—´æˆ³ã€äºŒè¿›åˆ¶ï¼‰ã€‚

---

### **å¸¸è§é”™è¯¯ & é™·é˜±**
| é”™è¯¯ç¤ºä¾‹ | æ­£ç¡®å†™æ³• | åŸå›  |
|----------|----------|------|
| `key:value` | `key: value` | **å†’å·åå¿…é¡»æœ‰ç©ºæ ¼** |
| `key: value #æ³¨é‡Š` | `key: value  # æ³¨é‡Š` | æ³¨é‡Šå‰è‡³å°‘ä¸¤ä¸ªç©ºæ ¼ |
| ç¼©è¿›ç”¨ Tab | ä»…ç”¨ç©ºæ ¼ | **YAML ç¦æ­¢ Tab** |
| `list: - item1` | `list:\n  - item1` | åˆ—è¡¨éœ€æ¢è¡Œç¼©è¿› |
| `key: {a:1, b:2}` | `key:\n  a: 1\n  b: 2` | é¿å…å†…è” JSON é£æ ¼ |

> âš ï¸ **é‡è¦**ï¼šYAML å¯¹ç¼©è¿›æå…¶æ•æ„Ÿï¼æ¨èç”¨ **2 ç©ºæ ¼ç¼©è¿›**ï¼ˆç¤¾åŒºæƒ¯ä¾‹ï¼‰ã€‚

---

### **å…¸å‹åº”ç”¨åœºæ™¯**
| å·¥å…· | ç”¨é€” | ç¤ºä¾‹ç‰‡æ®µ |
|------|------|----------|
| **Docker Compose** | å®¹å™¨ç¼–æ’ | ```yaml<br>services:<br>  web:<br>    image: nginx<br>    ports:<br>      - "80:80"``` |
| **Kubernetes** | é›†ç¾¤é…ç½® | ```yaml<br>apiVersion: v1<br>kind: Pod<br>metadata:<br>  name: my-pod``` |
| **Ansible** | è‡ªåŠ¨åŒ–è¿ç»´ | ```yaml<br>- hosts: all<br>  tasks:<br>    - name: Install nginx<br>      apt:<br>        name: nginx``` |
| **Spring Boot** | åº”ç”¨é…ç½® | ```yaml<br>server:<br>  port: 8080<br>spring:<br>  datasource:<br>    url: jdbc:mysql://...``` |

---

### **YAML vs JSON vs XML**
| ç‰¹æ€§ | YAML | JSON | XML |
|------|------|------|-----|
| **å¯è¯»æ€§** | â­â­â­â­ | â­â­ | â­ |
| **å†™é…ç½®é€Ÿåº¦** | â­â­â­ | â­ | â­ |
| **æ•°æ®ç±»å‹æ”¯æŒ** | ä¸°å¯Œ | åŸºç¡€ | æœ‰é™ |
| **æ³¨é‡Šæ”¯æŒ** | âœ… | âŒ | âœ… |
| **è§£ææ€§èƒ½** | æ…¢ | å¿« | æ…¢ |
| **å…¸å‹ç”¨é€”** | é…ç½®æ–‡ä»¶ | API æ•°æ®äº¤æ¢ | ä¼ä¸šçº§æ•°æ®äº¤æ¢ |

> âœ… **YAML ä¼˜åŠ¿**ï¼šé…ç½®æ–‡ä»¶é¦–é€‰ï¼ˆäººå†™äººè¯»ï¼‰  
> âœ… **JSON ä¼˜åŠ¿**ï¼šæœºå™¨ç”Ÿæˆ/è§£æï¼ˆAPI ä¼ è¾“ï¼‰

---

### **éªŒè¯ä¸è°ƒè¯•å·¥å…·**
1. **åœ¨çº¿éªŒè¯å™¨**  
   - [YAML Linter](https://www.yamllint.com/)ï¼šå®æ—¶æ£€æŸ¥è¯­æ³•é”™è¯¯ã€‚
2. **VS Code æ’ä»¶**  
   - **YAML**ï¼ˆRed Hat å®˜æ–¹æ’ä»¶ï¼‰ï¼šè‡ªåŠ¨è¡¥å…¨ã€é”™è¯¯æç¤ºã€æ ¼å¼åŒ–ã€‚
3. **å‘½ä»¤è¡ŒéªŒè¯**  
   ```bash
   # å®‰è£… PyYAML
   pip install pyyaml
   # éªŒè¯æ–‡ä»¶
   python -c 'import yaml, sys; print(yaml.safe_load(sys.stdin))' < config.yml
   ```

---

### **æœ€ä½³å®è·µ**
1. **ç»Ÿä¸€ç¼©è¿›**ï¼šå§‹ç»ˆç”¨ **2 ç©ºæ ¼**ï¼ˆé¿å… 4 ç©ºæ ¼æˆ–æ··åˆç©ºæ ¼ï¼‰ã€‚
2. **å­—ç¬¦ä¸²å¼•å·**ï¼š  
   - æ™®é€šå­—ç¬¦ä¸²ä¸åŠ å¼•å·ï¼ˆ`name: Alice`ï¼‰ã€‚  
   - å«ç‰¹æ®Šå­—ç¬¦æ—¶ç”¨åŒå¼•å·ï¼ˆ`error: "Invalid: value"`ï¼‰ã€‚
3. **é¿å…å¤æ‚ç»“æ„**ï¼š  
   - ä¸è¦åµŒå¥—è¶…è¿‡ 4 å±‚ï¼Œæ‹†åˆ†å¤§å‹æ–‡ä»¶ã€‚
4. **ä½¿ç”¨é”šç‚¹å¤ç”¨**ï¼š  
   - å‡å°‘é‡å¤é…ç½®ï¼ˆå¦‚æ•°æ®åº“è¿æ¥å‚æ•°ï¼‰ã€‚
5. **æ³¨é‡Šå…³é”®é…ç½®**ï¼š  
   - ç”¨ `#` è¯´æ˜éå¸¸è§„è®¾ç½®ã€‚

---

### **ç¤ºä¾‹ï¼šå®Œæ•´ Docker Compose æ–‡ä»¶**
```yaml
version: "3.8"  # Compose æ–‡ä»¶ç‰ˆæœ¬

services:
  web:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./html:/usr/share/nginx/html

  db:
    image: postgres:13
    environment:
      POSTGRES_DB: mydb
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: "secure!pass"  # ç‰¹æ®Šå­—ç¬¦éœ€å¼•å·
    volumes:
      - db-data:/var/lib/postgresql/data

volumes:
  db-data:  # å£°æ˜å‘½åå·
```

---

### **æ€»ç»“**
- **YML = äººç±»å‹å¥½çš„é…ç½®è¯­è¨€**ï¼Œæ ¸å¿ƒæ˜¯ **ç¼©è¿› + å†’å· + çŸ­æ¨ªçº¿**ã€‚
- **é»„é‡‘æ³•åˆ™**ï¼šå†’å·ååŠ ç©ºæ ¼ã€ç¦ç”¨ Tabã€ç»Ÿä¸€ 2 ç©ºæ ¼ç¼©è¿›ã€‚
- **é€‚ç”¨åœºæ™¯**ï¼šé…ç½®æ–‡ä»¶ï¼ˆDocker/K8s/Ansibleï¼‰ã€æ•°æ®äº¤æ¢ï¼ˆå½“å¯è¯»æ€§ä¼˜å…ˆæ—¶ï¼‰ã€‚
- **é¿å‘è¦ç‚¹**ï¼šç”¨åœ¨çº¿å·¥å…·éªŒè¯ã€é¿å…è¿‡åº¦åµŒå¥—ã€å–„ç”¨é”šç‚¹å¤ç”¨ã€‚

> ğŸ“Œ **è®°ä½**ï¼š  
> **"YAML is a superset of JSON, but JSON is not YAML."**  
> ï¼ˆYAML åŒ…å« JSON çš„èƒ½åŠ›ï¼Œä½† JSON æ— æ³•å®ç° YAML çš„ç®€æ´è¯­æ³•ï¼‰
How To Analyze Bundles Generated By Webpack

视频讲述了在进行 Webpack 代码拆分前，如何*使用 webpack 包分析器工具分析当前生成的生产包*，介绍了*工具安装配置、报告查看及单包存在的缺点，为后续代码拆分做铺垫*，具体如下：

## 明确视频核心目标与前期准备

[]
本节核心是先分析当前 Webpack 生成的包，再学习代码拆分；当前仅生成一个包含大量内容的包，且单看生成代码难以理解包内组成，需借助工具分析。

## 介绍 webpack 包分析器工具

[]
该工具可可视化 Webpack 输出文件大小并提供交互式表示，能帮助了解包的组成部分，将在视频中使用该工具进行包分析。

## 安装 webpack 包分析器并配置专用 Webpack 配置

[]
需在终端安装工具，基于生产配置创建单独的 Webpack 配置，导入所需内容后导出专门用于分析的新配置，此配置仅添加包分析器插件这一改动。

## 详解 webpack 包分析器插件关键选项

[]
重点关注两个选项，一是“分析器模式”，有服务器模式（启动 HTTP 服务器显示报告）、静态模式（生成单个 HTML 文件报告）、JSON 模式（生成 JSON 文件报告），视频选用服务器模式；二是“打开分析器”，可指示 Webpack 在默认浏览器自动打开报告。

## 在 package.json 添加专用运行脚本

[]
新增运行 Webpack 包分析器的脚本，指定生产模式，因需了解生产包统计信息以做出优化决策；视频倾向单独编写该脚本，避免每次运行生产构建都查看统计信息。

## 运行脚本并解读生产包报告

[]
运行脚本后生成的报告页面中，不同大小矩形框代表不同模块（小框为小模块，大框为大模块），可看到代表 jquery（应用中最大库）和其他内容的大方框及数十个小模块方框，且所有方框颜色大致相同，表明内容都属于一个 JavaScript 包。

## 指出单包存在的缺点

[]
一是所有代码在一个文件中，文件可能过大，且首屏无需一次性加载所有代码；二是影响浏览器缓存，应用依赖的库很少更新，与代码捆绑后无法单独缓存，每次修改代码部署都会导致浏览器缓存失效。

## 说明解决单包缺点的方向

[]
单包的缺点可通过 Webpack 原生提供的代码拆分功能缓解，后续视频将学习如何拆分代码为多个包及不同的代码拆分策略。

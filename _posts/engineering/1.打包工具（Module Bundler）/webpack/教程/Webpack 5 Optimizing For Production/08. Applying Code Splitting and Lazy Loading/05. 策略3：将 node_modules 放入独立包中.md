Strategy #3: Putting node_modules Into Its Own Bundle

视频讲述了*Webpack 代码拆分的第三种策略*，即*将 node_modules 文件夹中的依赖项打包到单独 bundle 中*的具体操作、效果及优缺点，具体如下：

## 介绍代码拆分第三种策略

[00:00]
提出*将所有来自 node_modules 文件夹的依赖项打包到单独 bundle 中*，
最终生成两个 bundle：
*一个包含自身代码，
一个包含 node_modules 中的所有内容*。

## 调整 Webpack 配置实现策略

[00:24]
首先*修改最小尺寸为零（无最小尺寸限制）、最大尺寸为无穷大（无最大尺寸限制）*，移除无需的函数；
然后*引入一个缓存组，在正则表达式中指定 node_modules 并为其命名*，完成配置调整。

![[_posts/engineering/1.打包工具（Module Bundler）/webpack/教程/Webpack 5 Optimizing For Production/08. Applying Code Splitting and Lazy Loading/media/61e153661d6057cfa43173ec0b22b05b_MD5.jpeg]]

## 运行 Webpack bundle 分析器查看结果

[01:23]
*Webpack 仅生成两个 bundle*：
*自身代码 bundle 不到五千字节*；
*依赖项 bundle 包含 jquery、Bootstrap、Motion 等应用依赖库，体积相当庞大*。

![[_posts/engineering/1.打包工具（Module Bundler）/webpack/教程/Webpack 5 Optimizing For Production/08. Applying Code Splitting and Lazy Loading/media/39cf671e572c43bff87c341a58063d1d_MD5.jpeg]]

## 该策略的优缺点

[02:17]
**优点**是*优化了浏览器获取所有 bundle 所需的 HTTP 请求量*；
**缺点**是*生成的 bundle 本身相当庞大*；

并预告下一个视频将探讨与该策略完全相反的另一种代码拆分策略。

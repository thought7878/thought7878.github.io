
## 打包流程（Pipeline）
Webpack 的构建流程可抽象为以下阶段：
1. **初始化**：
   - 读取配置，合并默认参数。
   - 创建 `Compiler` 实例，加载插件。

2. **编译阶段**：
   - **Compilation 上下文**：创建 `Compilation` 对象，管理模块编译。
   - **构建模块**：
     - 调用 Loader 转换代码。
     - 解析 AST，收集依赖。
   - **生成依赖图**：递归处理所有模块依赖。

3. **封装与优化**：
   - **Chunk 生成**：根据入口和动态导入分割代码块。
   - **作用域提升（Scope Hoisting）**：合并模块作用域，减少闭包。
   - **Tree Shaking**：静态分析删除未使用代码。

4. **输出阶段**：
   - **资源生成**：将 Chunk 转换为最终文件（Bundle）。
   - **写入磁盘**：按 `output` 配置输出文件，并生成 Source Map。

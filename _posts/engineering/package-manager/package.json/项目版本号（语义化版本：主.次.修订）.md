合理使用语义化版本号可以**帮助使用者判断是否安全升级**。

项目版本号通常采用 **语义化版本（Semantic Versioning，简称 SemVer）**，其格式为：

```
主版本号.次版本号.修订版本号
```

例如：

```
1.2.3
```

---

## 一、语义化版本的含义

每个数字部分代表不同的变更类型：

| 部分           | 含义                               |
| ------------ | -------------------------------- |
| 主版本号（Major）  | 当你做了**不兼容的 API 修改**或**重大重构**时递增。 |
| 次版本号（Minor）  | 当你**新增了功能**但保持向后兼容时递增。           |
| 修订版本号（Patch） | 当你做了**向后兼容的问题修复**（如 bug 修复）时递增。  |

**示例说明：**

- `1.0.0` → 初始稳定版本；
- `1.1.0` → 新增了一些功能（兼容旧版）；
- `1.1.1` → 修复了一个小 bug；
- `2.0.0` → 做了重大更新，不再兼容 `1.x` 的用法。

---

## 二、版本号表示方式与含义

在 `package.json` 中依赖版本常**使用如下前缀来*控制更新范围*：**

| 表达式           | 含义                               |
| ------------- | -------------------------------- |
| `1.2.3`       | 固定版本，只安装 `1.2.3`                 |
| `^1.2.3`      | 允许安装 `1.x.x` 中最新的版本（*不允许主版本升级*）  |
| `~1.2.3`      | 允许安装 `1.2.x` 中最新的版本（*不允许次版本升级*）  |
| `>=1.2.3`     | 安装大于等于 `1.2.3` 的版本               |
| `<=1.2.3`     | 安装小于等于 `1.2.3` 的版本               |
| `*`           | 使用最新版本                           |
| `workspace:*` | pnpm workspace 本地依赖（仅限 Monorepo） |

---

## 三、特殊版本号

| 版本号          | 含义                        |
| ------------ | ------------------------- |
| `1.0.0-beta` | 测试版本，尚未正式发布               |
| `1.0.0-rc.1` | 发布候选版本（Release Candidate） |
| `latest`     | 默认发布的最新稳定版本               |
| `next`       | 下一个开发版本分支（用于测试新特性）        |

---

## 四、如何选择版本号？

根据你的变更内容选择合适的版本号增长方式：

| 变更类型                  | 应该增加的版本号部分 |
|---------------------------|----------------------|
| 新增功能（兼容旧版）       | 次版本号（Minor）     |
| 修复 bug（兼容旧版）       | 修订版本号（Patch）    |
| 不兼容的 API 修改或大重构 | 主版本号（Major）      |

---

## 五、版本号管理工具

你可以使用一些工具帮助你自动管理版本号：

### 1. npm version

```bash
npm version patch   # 更新到 1.0.1
npm version minor   # 更新到 1.1.0
npm version major   # 更新到 2.0.0
```

执行后会：
- 自动修改 `package.json` 中的 `version`；
- 提交 Git commit；
- 创建 Git tag（如 `v1.0.1`）。

### 2. standard-version（推荐）

基于提交信息自动生成 changelog 和版本号。

```bash
npx standard-version
```

需要遵循 [Conventional Commits](https://www.conventionalcommits.org/) 规范提交信息。

---

## 六、版本号命名建议

- 初始开发阶段可使用 `0.x.x`；
- 稳定版本从 `1.0.0` 开始；
- 每个版本应有清晰的 changelog（变更日志）；
- *避免频繁升级主版本号*，除非确实做了破坏性更改；
- 对于库（library）项目，保持向后兼容非常重要；
- 对于应用（app）项目，可以更灵活地管理版本。

---

## 七、示例：版本号演变

假设初始版本是 `1.0.0`，经历以下变更：

| 变更描述             | 新版本号 |
|----------------------|----------|
| 修复一个 bug         | 1.0.1    |
| 新增一个功能         | 1.1.0    |
| 新增功能 + 修复 bug  | 1.1.1    |
| 重大重构，API 不兼容 | 2.0.0    |

---

如果你正在维护一个 npm 包或团队内部组件库，合理使用语义化版本号可以帮助使用者判断是否安全升级。

## 相关资料
- [【前端杂谈06】一次性搞懂 NPM 版本号规则](https://www.bilibili.com/video/BV1qyPYedEAo/?share_source=copy_web&vd_source=9c1e19a73fa7bd23bb37aa8d7467d862)
- [[5.语义版本]]
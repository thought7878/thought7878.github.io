【前端工程化精讲】 https://www.bilibili.com/video/BV1mL411d76B/?p=21&share_source=copy_web&vd_source=9c1e19a73fa7bd23bb37aa8d7467d862



视频讲述了部署流程中构建流程的策略优化，从依赖安装、代码构建、产物打包三个阶段介绍了相关优化方案，具体如下：
- **依赖安装阶段的提效方案**：包括四种思路。一是提升依赖下载速度，可通过更换国内镜像源（如npm换淘宝源）和单独配置二进制文件下载源来实现；二是多项目共用依赖缓存，让使用相同依赖工具或技术栈的项目共用服务器，提高缓存命中率；三是对安装目录进行缓存，将node_modules目录与package lock文件关联，命中缓存时直接解压，需注意磁盘利用率和关联因素对缓存的影响；四是检测项目log文件，在CI系统中加入检测，提醒开发者维护log文件。
- **代码构建阶段的提效方案**：主要讨论CI系统中的持久化缓存问题。由于构建空间临时，需对持久化缓存数据单独备份和还原。备份时扫描并找到约定缓存目录，按路径生成备份目录名称，不打包直接复制存储；还原时在构建开始阶段查看并还原对应缓存目录，以提升构建效率。
- **产物打包阶段的提效方案**：可选择biz和zstd等压缩工具替代传统的gzip。相同压缩等级下，这些工具压缩速度更快，但需注意文件体积对差异的影响、并行处理对资源的占用以及工具兼容性问题，根据场景选择合适工具。
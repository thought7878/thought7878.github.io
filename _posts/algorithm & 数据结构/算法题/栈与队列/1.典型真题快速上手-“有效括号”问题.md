
> 题目描述：给定一个只包括 '('，')'，'{'，'}'，'['，']'  的字符串，判断字符串是否有效。
> 
> 有效字符串需满足：
> 左括号必须用相同类型的右括号闭合。  
> 左括号必须以正确的顺序闭合。  
> 注意空字符串可被认为是有效字符串。
> 
> 示例 1:  
> 输入: "()"  
> 输出: true
> 
> 示例  2:  
> 输入: "()[]{}"  
> 输出: true
> 
> 示例  3:  
> 输入: "(]"  
> 输出: false
> 
> 示例  4:  
> 输入: "([)]"  
> 输出: false  
> 
> 示例  5:  
> 输入: "{[]}"  
> 输出: true

参考：[[12、栈与队列怎么玩（上）]]

以下是用 JavaScript 实现“判断括号字符串是否有效”的代码。我们将使用**栈（Stack）** 数据结构来高效解决问题，时间复杂度为 O(n)，空间复杂度为 O(n)。

---

### 解题思路

1. **问题分析**：
   - 给定一个只包含 `'('`、`')'`、`'{'`、`'}'`、`'['`、`']'` 的字符串。
   - 需要判断括号是否按照正确的顺序闭合。

2. **核心思想**：
   - 使用栈（先进后出的数据结构）来匹配括号。
   - 遍历字符串中的每个字符：
     - 如果是左括号（`(`、`{`、`[`），将其压入栈中。
     - 如果是右括号（`)`、`}`、`]`），检查栈顶元素是否是对应的左括号：
       - 如果匹配，则弹出栈顶元素。
       - 如果不匹配或栈为空，则返回 `false`。
   - 遍历结束后，如果栈为空，则说明所有括号都正确闭合；否则返回 `false`。

3. **算法步骤**：
   - 初始化一个空栈。
   - 遍历字符串中的每个字符：
     - 左括号入栈。
     - 右括号与栈顶元素匹配，匹配成功则弹出栈顶，否则返回 `false`。
   - 遍历结束后，检查栈是否为空，返回结果。

4. **时间复杂度**：O(n)，其中 n 是字符串的长度。
5. **空间复杂度**：O(n)，最坏情况下需要存储所有左括号。

---

### 代码实现

```javascript
function isValid(s) {
    // 创建一个栈
    const stack = [];
    // 定义括号的匹配关系
    const map = {
        ')': '(',
        '}': '{',
        ']': '['
    };

    // 遍历字符串
    for (let char of s) {
        if (char in map) {
            // 如果是右括号
            // 检查栈顶元素是否匹配
            if (stack.length === 0 || stack.pop() !== map[char]) {
                return false; // 不匹配或栈为空，返回 false
            }
        } else {
            // 如果是左括号，压入栈中
            stack.push(char);
        }
    }

    // 如果栈为空，说明所有括号都正确闭合
    return stack.length === 0;
}
```

---

### 测试代码

为了验证上述实现的正确性，我们可以编写一个简单的测试用例：

```javascript
// 测试用例
console.log(isValid("()"));       // 输出 true
console.log(isValid("()[]{}"));   // 输出 true
console.log(isValid("(]"));       // 输出 false
console.log(isValid("([)]"));     // 输出 false
console.log(isValid("{[]}"));     // 输出 true
console.log(isValid(""));         // 输出 true
console.log(isValid("((()))"));   // 输出 true
console.log(isValid("({[}])"));   // 输出 false
```

---

### 运行结果

**示例 1:**
```plaintext
输入: "()"
输出: true
```

**示例 2:**
```plaintext
输入: "()[]{}"
输出: true
```

**示例 3:**
```plaintext
输入: "(]"
输出: false
```

**示例 4:**
```plaintext
输入: "([)]"
输出: false
```

**示例 5:**
```plaintext
输入: "{[]}"
输出: true
```

**示例 6:**
```plaintext
输入: ""
输出: true
```

**示例 7:**
```plaintext
输入: "((()))"
输出: true
```

**示例 8:**
```plaintext
输入: "({[}])"
输出: false
```

---

### 代码详解

1. **初始化栈**：
   - 使用数组模拟栈，支持 `push` 和 `pop` 操作。

2. **遍历字符串**：
   - 如果当前字符是左括号（`(`、`{`、`[`），直接压入栈中。
   - 如果当前字符是右括号（`)`、`}`、`]`），检查栈顶元素是否是对应的左括号：
     - 如果匹配，则弹出栈顶元素。
     - 如果不匹配或栈为空，说明括号无效，返回 `false`。

3. **最终检查**：
   - 遍历结束后，如果栈为空，说明所有括号都正确闭合；否则返回 `false`。

---

### 总结

- 本题的关键在于利用栈的特性（先进后出）来匹配括号。
- 左括号入栈，右括号与栈顶元素匹配，匹配成功则弹出栈顶。
- 空字符串被认为是有效字符串。
- 代码简洁高效，适合在实际开发中应用。


3. Frequency Counter Pattern


视频讲述了*算法中的频率计数器模式*，包括其*核心思想、优势*，还*通过具体示例对比了朴素解法与频率计数器解法的差异*，具体如下：

## 核心思想与作用
[00:00]
频率计数器模式的核心思想与作用。该模式*无官方名称*，`核心`是*用对象（如JavaScript中）收集大量值及其频率*，**适用于有多个数据片段（输入）需比较是否含相似值、是否为变位词、某值是否存在于另一值等场景**，能**解决需关注事物出现频率的问题**。

频率计数器
这种模式使用对象或集合来收集值/值的频率。
这通常可以**避免在数组/字符串中使用嵌套循环或O(N²)操作**。
![[_posts/algorithm & 数据结构/教程/JavaScript Algorithms and Data Structures Masterclass/05. Problem Solving Patterns/media/7375d7a211b55c08d2df2f18e99a14f9_MD5.jpeg]]

## 时间复杂度
[00:50]
该模式**通常时间复杂度为O(n)**，相比涉及嵌套循环、时间复杂度为O(n²)的简单解决方案更优，能大幅提升算法效率，尤其在数据规模较大时。


## 示例
[01:06]
需编写名为“same”的函数，接受两个数组，若第一个数组中每个值在第二个数组中都有对应平方值，且值的数量相同（顺序无关），函数返回true，反之返回false。如[1,2,3]与[4,1,9]返回true，[1,2,3]与[1,9]返回false，[1,2,1]与[4,4,1]也返回false。

编写一个名为same的函数，它接受两个数组。如果第一个数组中的每个值在第二个数组中都有其对应的平方值，且值的出现频率相同，那么该函数应返回true。
![[_posts/algorithm & 数据结构/教程/JavaScript Algorithms and Data Structures Masterclass/05. Problem Solving Patterns/media/ac0859ec834f1c766a97ef60f3074be6_MD5.jpeg]]

### 朴素解法（嵌套循环）
[03:02]
先判断两数组长度，若不同直接返回false；之后遍历第一个数组，用indexOf（本质也是循环）查找当前值平方在第二个数组中的索引，若不存在返回false，若存在则用splice移除该元素；遍历结束未返回false则返回true。

**此解法时间复杂度为O(n²)**，*因存在嵌套循环，数组规模增大时效率大幅下降*。

![[_posts/algorithm & 数据结构/教程/JavaScript Algorithms and Data Structures Masterclass/05. Problem Solving Patterns/media/882efe019e8048011b8d4165f1df3a91_MD5.jpeg]]

### 频率计数器解法
[07:46]
首先创建两个对象，分别遍历两个数组，统计数组中各值的出现频率；然后遍历第一个频率计数器对象，对每个键，检查其平方是否在第二个频率计数器对象中存在，且两者对应的值（出现次数）是否相同，若有任一不满足则返回false，全部满足则返回true。

**该解法时间复杂度为O(n)**，仅需**三次遍历O(3n)**（两次构建频率对象，一次比较），访问对象数据速度快，*效率远高于朴素解法*。**两个独立循环（O(2n)即O(n)）远优于两个嵌套循环（O(n²)）**。

![[_posts/algorithm & 数据结构/教程/JavaScript Algorithms and Data Structures Masterclass/05. Problem Solving Patterns/media/021d3da55af5b7d008374945e1a11b49_MD5.jpeg]]

## 频率计数器解法优势验证
[13:02]
以含[5,11]的数组示例，因5的平方25、11的平方根在对应数组中不存在，用频率计数器解法能快速检测并返回false，进一步体现其在判断数据匹配及频率一致性上的高效性，且随着数组规模增大（如万级元素），相比朴素解法的百万次迭代，该解法仅需三万次左右迭代，优势更明显。
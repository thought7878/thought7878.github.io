视频讲述了在双向链表上实现pop操作的相关内容，*对比了单向链表与双向链表pop操作的差异*，并详细介绍了*双向链表pop操作的逻辑、特殊情况处理及注意事项*，具体如下

```js

  /*
  从尾部删除node。
  1 <-> 2 <-> 3
  h           t 
  伪代码/pseudo code：
    - 边界情况：链表没有node，return false
    - 头部情况：
      - 更新head为null，tail为null
      - length为0
      - return true
    - 中间情况：
      - 找到tail的前一个node
      - 前一个node.next=null，tail.prev=null?
      - 更新tail为前一个node
      - 更新length-1
      - return true
  */
  pop() {
    if (this.length === 0) return null;

    let poppedNode = this.tail;

    if (this.length === 1) {
      this.head = null;
      this.tail = null;
      this.length = 0;
    } else {
      let prevNode = this.tail.previous;
      prevNode.next = null;
      this.tail.previous = null;
      this.tail = prevNode;
      this.length--;
    }
    
    return poppedNode;
  }

```


- **明确pop操作核心目标及双向链表与单向链表的差异**：pop操作的核心是*移除链表最后一个元素并返回它*，这一点在单向链表、数组或列表中一致；但双向链表与单向链表存在区别，单向链表从末尾弹出元素麻烦，需从头部遍历找到倒数第二个节点并将其next设为null以切断连接，而双向链表因可访问previous属性，从尾部操作更简单。
- **双向链表pop操作的前置检查**：执行pop操作前需先检查链表是否为空，若不存在尾部（或没有头、长度为零），尝试弹出元素属于无效操作，返回undefined。
- **双向链表pop操作的常规逻辑**：若链表非空，先获取当前尾部并存入变量以便后续返回；然后将尾部更新为旧尾部的previous节点（即新尾部）；接着把新尾部的next设为null，同时将需返回的旧尾部节点的previous设为null，清理多余引用；最后将链表长度减一，并返回被移除的旧尾部节点的值。
- **双向链表pop操作的特殊情况处理**：当链表长度为1时，执行pop操作后链表变为空，需将头和尾都设为null，再进行长度减一和返回被移除元素的操作。
- **双向链表pop操作的关键注意事项**：执行pop操作切断连接时，需移除双向连接，不能仅将新尾部的next设为null（仅切断一个方向），还需将被移除节点的previous设为null，否则若从被移除节点访问previous属性仍可能遍历整个列表，无法让被移除节点独立存在。

![[_posts/algorithm & 数据结构/教程/JavaScript Algorithms and Data Structures Masterclass/20. Doubly Linked Lists/media/4053e5c25236655bf98a6986322a1e59_MD5.jpeg]]
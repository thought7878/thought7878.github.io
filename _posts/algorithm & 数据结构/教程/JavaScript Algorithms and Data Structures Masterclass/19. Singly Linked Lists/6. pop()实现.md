6.Singly Linked List: Pop Solution


视频讲述了在JavaScript中实现单向链表（Singly Linked List）pop方法的详细过程，包括边界情况处理、核心逻辑实现、特殊情况修复及测试验证，具体如下：

## 基础定义与边界情况处理
[00:00]
pop方法不接受参数，*首先需处理边界情况——若链表中没有节点*（可通过检查`this.head`是否存在或链表长度是否为0判断），则直接返回未定义。

## 核心遍历逻辑准备
[00:39]
要实现pop（移除链表尾部节点），需*找到尾部节点及尾部前一个节点*（后续将成为新尾部），因此*定义两个变量`current`和`newTail`，初始时均指向链表头部（`this.head`）*，用于后续遍历。

## 遍历循环逻辑实现
[02:16]
使用`while (current.next)`循环遍历链表，循环内先将`newTail`更新为当前`current`的值，再将`current`指针向前移动一步，使`newTail`始终落后`current`一步，直至`current.next`不存在（此时`current`指向尾部节点，`newTail`指向尾部前一个节点）。

![[_posts/algorithm & 数据结构/教程/JavaScript Algorithms and Data Structures Masterclass/19. Singly Linked Lists/media/59906e6d1a1ba1b9260a7265928e36b1_MD5.jpeg]]

## 尾部节点移除与链表更新
[03:27]
遍历结束后，将`newTail`设为新的链表尾部（`this.tail = newTail`），并将`newTail.next`设为`null`以切断与原尾部节点的连接，同时返回原尾部节点（`current`），且将链表长度减1（`this.length####`）。

## 测试验证（多元素与添加元素场景）
[04:34]
对包含3个元素（Hello、Goodbye、感叹号）的链表测试pop方法，第一次pop返回感叹号，链表剩余2个元素且尾部为Goodbye；第二次pop返回Goodbye，链表剩余1个元素；向链表添加元素“99”后，pop该元素可正常返回，验证了多元素及添加元素场景下pop方法的有效性。

## 特殊情况（链表只剩1个元素）修复
[05:25]
发现当链表只剩1个元素时，执行pop后虽能返回该元素，但`this.head`和`this.tail`未重置为`null`，
*修复方案为*：在链表长度减1后，检查若`this.head === this.tail`（即只剩1个元素被移除后），则将`this.head`和`this.tail`均设为`null`，确保链表为空时状态正确。

![[_posts/algorithm & 数据结构/教程/JavaScript Algorithms and Data Structures Masterclass/19. Singly Linked Lists/media/42c029d8e128c864f4ffcaf16afe7e61_MD5.jpeg]]

## 最终测试与优化方向
[06:44]
修复后再次测试，当链表只剩1个元素并执行pop后，链表长度变为0，`this.head`和`this.tail`均为`null`，再次pop会返回未定义，符合预期；同时提及后续可通过定义辅助函数重构pop方法，使代码更简洁优雅。
`正则表达式（Regular Expression，简称 RegExp）`是一种强大的工具，用于*匹配、查找和替换字符串中的特定模式*。在 JavaScript 中，正则表达式被广泛应*用于字符串处理*任务，例如*验证输入格式、提取子字符串、替换内容*等。

---

## 1. 创建正则表达式

在 JavaScript 中，可以通过以下两种方式创建正则表达式：

### 方法 1：字面量形式
使用斜杠 `/` 包裹正则表达式。
```javascript
const regex = /pattern/flags;
```

### 方法 2：构造函数
使用 `RegExp` 构造函数动态创建正则表达式。
```javascript
const regex = new RegExp("pattern", "flags");
```

### 参数说明：
- **`pattern`**：正则表达式的模式部分，定义匹配规则。
- **`flags`**：可选标志，用于控制匹配行为。常见的标志包括：
  - `g`：全局匹配（匹配所有符合条件的内容，而不是只匹配第一个）。
  - `i`：忽略大小写。
  - `m`：多行模式（使 `^` 和 `$` 匹配每一行的开头和结尾）。
  - `s`：单行模式（使 `.` 匹配换行符 `\n`）。

---

## 2. 常用元字符、分类

正则表达式由普通字符和特殊字符（元字符）组成。以下是常用的元字符及其含义：

| 元字符     | 描述                                      |
| ------- | --------------------------------------- |
| `.`     | 匹配任意单个字符（除了换行符 `\n`，除非使用 `s` 标志）。       |
| `\d`    | 匹配任意数字字符（等价于 `[0-9]`）。                  |
| `\D`    | 匹配任意非数字字符（等价于 `[^0-9]`）。                |
| `\w`    | 匹配任意单词字符（字母、数字或下划线，等价于 `[a-zA-Z0-9_]`）。 |
| `\W`    | 匹配任意非单词字符（等价于 `[^a-zA-Z0-9_]`）。         |
| `\s`    | 匹配任意空白字符（空格、制表符、换行符等）。                  |
| `\S`    | 匹配任意非空白字符。                              |
| `^`     | 匹配字符串的开头（在多行模式下匹配每行的开头）。                |
| `$`     | 匹配字符串的结尾（在多行模式下匹配每行的结尾）。                |
| `*`     | 匹配前面的子表达式零次或多次。                         |
| `+`     | 匹配前面的子表达式一次或多次。                         |
| `?`     | 匹配前面的子表达式零次或一次。                         |
| `{n}`   | 匹配前面的子表达式恰好 `n` 次。                      |
| `{n,}`  | 匹配前面的子表达式至少 `n` 次。                      |
| `{n,m}` | 匹配前面的子表达式至少 `n` 次，最多 `m` 次。             |
| `[]`    | 定义字符集合，匹配集合中的任意一个字符。                    |
| `[^]`   | 定义否定字符集合，匹配不在集合中的任意一个字符。                |
| `()`    | 分组，用于捕获子表达式或改变优先级。                      |
| `\`     | 转义字符，用于匹配特殊字符（如 `\.` 匹配点号本身）。           |

---

将元字符按照功能分类，便于理解和记忆。

### (1)匹配单个字符的元字符


| 元字符 | 描述                        | 助记词                     |
|--------|-----------------------------|----------------------------|
| `.`    | 匹配任意单个字符（除换行符） | “点”代表“任意一个”。       |
| `\d`   | 匹配数字（0-9）             | “d”代表“digit”（数字）。   |
| `\D`   | 匹配非数字                  | “大写 D”是“非数字”。       |
| `\w`   | 匹配单词字符（字母、数字、下划线） | “w”代表“word”（单词）。    |
| `\W`   | 匹配非单词字符              | “大写 W”是“非单词”。       |
| `\s`   | 匹配空白字符                | “s”代表“space”（空格）。   |
| `\S`   | 匹配非空白字符              | “大写 S”是“非空格”。       |

**助记法**：
- 小写字母表示“匹配某种类型”，大写字母表示“不匹配该类型”。
- 例如：`\d` 匹配数字，`\D` 匹配非数字；`\w` 匹配单词字符，`\W` 匹配非单词字符。

---

### **(2) 定位符**
| 元字符 | 描述                        | 助记词                     |
|--------|-----------------------------|----------------------------|
| `^`    | 匹配字符串开头              | “尖角”指向“开头”。         |
| `$`    | 匹配字符串结尾              | “美元符号”表示“结束”。     |
| `\b`   | 匹配单词边界                | “b”代表“boundary”（边界）。|
| `\B`   | 匹配非单词边界              | “大写 B”是“非边界”。       |

**助记法**：
- `^` 和 `$` 是成对的，分别对应“头”和“尾”。
- `\b` 和 `\B` 是成对的，分别对应“边界”和“非边界”。

---

### **(3) 量词**
| 元字符 | 描述                        | 助记词                     |
|--------|-----------------------------|----------------------------|
| `*`    | 匹配零次或多次              | “星号”表示“任意次数”。     |
| `+`    | 匹配一次或多次              | “加号”表示“至少一次”。     |
| `?`    | 匹配零次或一次              | “问号”表示“可有可无”。     |
| `{n}`  | 匹配恰好 n 次               | “花括号”表示“精确次数”。   |
| `{n,}` | 匹配至少 n 次               | “逗号”表示“至少多少次”。   |
| `{n,m}`| 匹配至少 n 次，最多 m 次    | “范围”用逗号分隔。         |

**助记法**：
- `*` 表示“任意次数”，可以联想为“星星无限多”。
- `+` 表示“至少一次”，可以联想为“加一次以上”。
- `?` 表示“可选”，可以联想为“问号表示不确定”。

---

### **(4) 字符集合**
这些元字符用于定义一组字符，匹配其中的任意一个。

| 元字符      | 描述              | 助记词                 |
| -------- | --------------- | ------------------- |
| `[abc]`  | 匹配 a、b 或 c 中的一个 | “方括号”表示“选择一个”。      |
| `[^abc]` | 匹配非 a、b、c 的字符   | “尖角”表示“否定”。         |
| `[a-z]`  | 匹配 a 到 z 的任意字符  | “连字符”表示“范围”。        |
| `[0-9]`  | 匹配数字范围内的任意字符    | `[0-9]`匹配数字`0`到`9`。 |

**助记法**：
- 方括号 `[ ]` 表示“选择”，尖角 `^` 在方括号内表示“否定”。
- 连字符 `-` 表示“从...到...”。

---

### **(5) 分组与引用**

这些元字符用于分组和捕获子表达式。

|元字符|描述|示例|
|---|---|---|
|`()`|分组，用于捕获子表达式或改变优先级。|`(ab)+`匹配`ab`、`abab`等。|
|`(?:)`|非捕获分组，用于分组但不捕获子表达式。|`(?:ab)+`匹配`ab`、`abab`等，但不捕获。|
|`\1`|引用第一个捕获组的内容。|`(\d)\1`匹配两个相同的数字，如`11`、`22`。|

**助记法** ：

- 圆括号 `()` 表示“分组”。
- 反斜杠加数字（如 `\1`）表示“引用捕获组”。

---

### **(6) 特殊字符**

这些元字符用于匹配特殊字符本身。

| 元字符 | 描述               | 示例               |
| --- | ---------------- | ---------------- |
| `\` | 转义字符，用于匹配特殊字符本身。 | `\.`匹配点号`.`。     |
| `   | `                | 或运算符，用于匹配多个选项之一。 |

**助记法** ：

- 反斜杠 `\` 表示“转义”，用于匹配特殊字符本身。
- 竖线 `|` 表示“或”。


---

## **3. 正则表达式的常用方法**

JavaScript 提供了多种方法来操作正则表达式：

### 方法 1：`test()`
检查字符串是否匹配正则表达式，返回布尔值。
```javascript
const regex = /hello/i;
console.log(regex.test("Hello World")); // 输出: true
console.log(regex.test("Hi there"));   // 输出: false
```

### 方法 2：`exec()`
在字符串中搜索匹配项，返回匹配结果数组或 `null`。
```javascript
const regex = /\d+/g;
const str = "I have 12 apples and 34 bananas";
console.log(regex.exec(str)); // 输出: ["12", index: 7, input: "I have 12 apples and 34 bananas"]
console.log(regex.exec(str)); // 输出: ["34", index: 22, input: "I have 12 apples and 34 bananas"]
```

### 方法 3：`match()`
在字符串上调用，返回匹配结果数组或 `null`。
```javascript
const str = "The quick brown fox jumps over the lazy dog";
const regex = /\b\w{5}\b/g; // 匹配长度为 5 的单词
console.log(str.match(regex)); // 输出: ["quick", "brown", "jumps"]
```

### 方法 4：`replace()`
替换字符串中匹配的部分。
```javascript
const str = "Hello World";
const regex = /world/i;
console.log(str.replace(regex, "JavaScript")); // 输出: "Hello JavaScript"
```

### 方法 5：`split()`
根据正则表达式分割字符串。
```javascript
const str = "apple,banana,cherry";
const regex = /[, ]+/; // 按逗号或空格分割
console.log(str.split(regex)); // 输出: ["apple", "banana", "cherry"]
```

---

## **4. 示例应用**

### 示例 1：验证邮箱格式
```javascript
function isValidEmail(email) {
    const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
    return regex.test(email);
}

console.log(isValidEmail("example@example.com")); // 输出: true
console.log(isValidEmail("invalid-email"));       // 输出: false
```

### 示例 2：提取 URL 中的域名
```javascript
function extractDomain(url) {
    const regex = /https?:\/\/([^\/]+)/;
    const match = url.match(regex);
    return match ? match[1] : null;
}

console.log(extractDomain("https://www.example.com/path")); // 输出: "www.example.com"
console.log(extractDomain("http://sub.domain.org"));        // 输出: "sub.domain.org"
```

### 示例 3：替换敏感词
```javascript
function censorSensitiveWords(text, sensitiveWords) {
    const regex = new RegExp(sensitiveWords.join("|"), "gi");
    return text.replace(regex, "***");
}

const text = "This is a secret message about the password.";
const sensitiveWords = ["secret", "password"];
console.log(censorSensitiveWords(text, sensitiveWords));
// 输出: "This is a *** message about the ***."
```

---

## **5. 注意事项**

1. **转义特殊字符**：
   如果需要匹配正则表达式中的特殊字符（如 `.`、`*`、`+` 等），需要使用反斜杠 `\` 进行转义。
   ```javascript
   const regex = /\./; // 匹配点号
   console.log(regex.test("123.456")); // 输出: true
   ```

2. **贪婪与非贪婪匹配**：
   默认情况下，正则表达式是贪婪的（尽可能多地匹配）。可以通过在量词后加 `?` 实现非贪婪匹配。
   ```javascript
   const str = "aaaabbbbcccc";
   console.log(str.match(/a+/));    // 输出: ["aaaa"]（贪婪匹配）
   console.log(str.match(/a+?/));   // 输出: ["a"]（非贪婪匹配）
   ```

3. **性能优化**：
   避免使用过于复杂的正则表达式，尤其是在处理大规模数据时。可以通过简化模式或分步处理提高性能。

---

## **总结**

正则表达式是 JavaScript 中处理字符串的强大工具，能够高效地完成匹配、提取和替换等任务。通过掌握常用的元字符、方法和技巧，可以轻松应对各种字符串处理需求。

# 元字符
记忆正则表达式的元字符可能会让人感到困难，因为它们数量较多且功能各异。不过，通过一些技巧和规律，可以更轻松地记住这些元字符。以下是几种有效的记忆方法：

---

## **1. 分类记忆**

## **2. 联想记忆**
通过形象化的方式联想元字符的功能。

### 示例：
- `.`：像一个“点”，可以代表任何东西。
- `*`：像一颗“星星”，表示“无限可能”。
- `+`：像一个“加号”，表示“至少要有一个”。
- `?`：像一个“问号”，表示“不确定是否需要”。
- `\d`：像“数字”的缩写。
- `\w`：像“单词”的缩写。
- `\b`：像“边界”的缩写。

---

## **3. 实践记忆**
通过实际练习加深记忆。以下是一些练习建议：
1. **编写简单的正则表达式**：
   - 匹配电话号码：`^\d{3}-\d{3}-\d{4}$`
   - 匹配邮箱地址：`^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`
2. **使用在线工具测试**：
   - 使用 [regex101](https://regex101.com/) 或其他正则表达式调试工具，实时查看匹配结果。
3. **解决实际问题**：
   - 验证用户输入格式（如手机号、身份证号）。
   - 提取网页中的特定内容（如 URL、日期）。

---

## **4. 制作记忆卡片**
将每个元字符及其功能写在卡片上，正面写元字符，背面写描述和示例。每天抽几张卡片复习，逐渐熟悉它们。

---

## **5. 总结口诀**
可以用一句口诀帮助记忆：
> 点任意，数小 d，非数大 D；  
> 单词 w，非单 W，空格 s，非空 S；  
> 星任意，加至少，问可选；  
> 头尖角，尾美元，边小 b。

---

通过分类记忆、联想记忆、实践练习和总结口诀，你可以更快地掌握正则表达式的元字符，并灵活运用它们！
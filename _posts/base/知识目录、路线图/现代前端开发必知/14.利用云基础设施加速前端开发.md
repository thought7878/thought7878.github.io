【【现代前端开发必知14】利用云基础设施加速前端开发】 https://www.bilibili.com/video/BV1tKzmYQERD/?share_source=copy_web&vd_source=9c1e19a73fa7bd23bb37aa8d7467d862


在*传统的前后端架构*中，前端应用*深度绑定一个专用服务端*，而*现代云上应用更讲究服务解耦和复用*。出于对成本和效率的考量，前端应用研发模式已经发生变化。本期我们就来聊聊*如何利用云基础设施加速前端应用的研发*。

随便打开某某云官网，相关云产品和服务都会令人眼花缭乱。实际上前端能直接用上的并不多，大致分为网络服务、计算服务、存储服务和安全这几个大类。许多云服务提供商都对web应用提供了良好的支持。下面我们分别举一些例子说明如何使用它们。

首先是网络服务，我们在第三期视频中介绍过域名DNS和cdn的工作方式，它们是网络服务的一部分。前端应用接入网络服务可以告别手动配置DNS服务器申请和更新ssl证书问题，大大简化了应用上线流程。另外由供应商代理DNS解析还可以拥有更多功能，比如将不安全的流量转移到别处，保护云服务器不受攻击。我们稍后在安全服务中还会提到，接下来是计算服务前端如何部署。对于纯前端应用，由server托管静态资源是一个常规方案。对于全栈前端应用，server less也许是更好的选择。

Serverless字面意思是无服务器，确切说是融合了faas和bus的架构方式，大家暂时不需要理解什么是faas和bus，只需要知道serverless将传统web服务中的服务器拆成了一个个函数和独立服务单元，用户每一个请求都通过一个函数计算单元处理。Serverless具备免运维、弹性、高可用、低成本的优势，特别适合前端这种面向接口调用的应用场景。这是阿里云基于server list的web应用的典型架构，我们的前端应用部署在函数计算节点上，可以看到用户访问请求通过内容分发网络CDN到达函数计算服务上。这里内容分发网络主要起到一个缓存计算结果的作用。函数计算服务通过API访问其他服务，比如这里的表格存储、文件存储和日志服务。在这种架构下，前端代码中一般不需要配置特定的服务器请求地址以及使用accius等HTTP请求库，而是直接使用服务方提供的SDK完成业务，方便快捷。

接着说存储服务，一般来说前端并不需要和数据库打交道，但我们通常会和图片文件上传打交道，这个时候存储服务就可以大展身手了。对象存储OSS就是一种典型的存储服务，可以持久存放海量的文件。我们常说的cdn加速，其实就是将前端静态资源发布到OSS中，再通过cdn分发。除此之外，对象存储一般还会提供数据处理功能，比如图片处理，即我们把图片上传到OSS后，取出来时，可以自动对图片进行压缩、格式转换、增加水印、缓存等。而这些功能甚至只需要设置一个参数即可实现，免去了我们在代码中处理图片的麻烦。

另外前端还经常遇到需要动态配置的业务场景，通常需要结合后端API和一个配置后台完成。更现代的做法是使用现成的KV存储服务，由前端从高速缓存中读写数据，免去了自己开发一套配置后台的麻烦。最后是安全服务，我们在第十二期视频中提到针对前端应用的攻防手段。对于一个完整的web应用来说，它还面临黑客攻击、爬虫、隐私泄露等风险。此时web应用防火墙wave就开始发挥作用了。我们还是拿阿里云举例子，这是其web应用防火墙的典型应用场景。可以看到所有互联网流量都会经过waf的分析和过滤，帮助我们分离攻击请求和业务请求。最终进入业务应用的请求都应该是干净且安全的。另外像用户注册、身份核验等都可以借助现有的云服务完成，这对于独立开发者或是创业团队可以说是非常方便友好。

本期我们简单介绍了云基础设施在现代前端的应用场景和价值。下期我们聊聊前端应用上线后还应该关注哪些问题。我是小麦，我们下期再见。
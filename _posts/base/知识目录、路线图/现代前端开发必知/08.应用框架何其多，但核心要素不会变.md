【【现代前端开发必知08】应用框架何其多，但核心要素不会变】 https://www.bilibili.com/video/BV1irtVe8ErN/?share_source=copy_web&vd_source=9c1e19a73fa7bd23bb37aa8d7467d862



上期视频中我们介绍了构建用户界面的几个要素，css框架、UI框架和组件库。这一期我们来聊聊**不同生态的应用框架**，以及**常见的应用架构方案**。

## 为什么需要应用框架？
*使用UI框架足以制作一个好看又好用的前端应用了，但为什么我们还需要应用框架呢？*

**随着前端业务越来越复杂**，我们会*在UI框架之外做很多看起来和UI无关的事情*。比如，*引入状态管理方案，做一套统一的布局，抽象一个更好用的数据请求方法，优化打包效率*等等。而**这些看起来很通用UI框架做起来又很费劲，正是应用框架会考虑的事情**。

应用框架的覆盖面较广，有基于react生态的nex js乌米GS modern，有基于view生态的next和creator，也有自成一体的astra和angular，有专注于桌面应用的electron tory，也有适用于小程序的tero union，应用于移动原生应用的rest native flutter和ionic。虽然应用框架看起来很多，但几乎都包含这些功能，路由样式、数据获取、测试插件和部署。路由规定了页面的组织方式、布局和跳转方式，也可以帮助框架更好地进行分包，以提升运行时的加载效率。

样式是框架提供的一组css开发方案，通常会包含css预处理器、css modules、css in js和css框架。数据获取通常包含内置请求库、缓存、服务端渲染等。经过框架优化的方案测试则是专为框架定制的一套环境和测试工具，方便开发者更优雅地编写测试代码。插件是框架为了方便开发者扩展其功能预留的口子，通过它可以自定义构建行为来尽可能满足定制化需求。部署是框架提供的生产应用上线方案，包含不同构建产物的生成配置、静态资源部署、全栈应用部署方式等等。

应用框架是从小型业务过渡到大型业务的必经之路，许多大厂会在开源应用框架的基础上再做一层定制封装，增加适用于自身业务特点的功能，比如对接内部各种服务的插件。蚂蚁集团内部的big fish框架就是在乌米GS的基础上添加了许多plug ins来扩展功能。说了应用框架就不得不提应用架构，应用架构是应用的组织范式，更关注不同范式间的优缺点。现代前端常见的应用架构方案有MPA、SPA、PWA、Michael front、the ends和islands这几种。

MPA全称multiple ge application及多页应用，这是最传统的网页组织方式，不同的页面对应不同的HTML文档，许多移动APP内部的H5页面都会采用这种架构。它的好处是业务划分清晰，迭代变更影响面较小。坏处是每次打开一个新页面都要等待加载。SPA全称single page application及单页应用，顾名思义，它在同一个页面上通过路由状态改变来模拟不同页面的切换。相比多页应用，它在一定程度上解决了用户在多个页面间切换需等待的问题，但带来的缺点就是首次加载时白屏时间较长。

P wa全称progressive web APP，即渐进式web应用，相比普通web应用，它采用了office worker和和离线缓存技术。它是最接近于小程序的架构形式，提供了类似原生应用的体验，且白屏时间较短。但最大的缺点是它依赖浏览器，无法像小程序一样访问原生平台功能Michael front ends及微前端简称MFE，它是一种将多个独立开发的前端应用组成整体的架构风格，在许多大企业内部的后台项目中比较常见。它主要起到两个作用，帮助巨型单体应用持续迭代，以及提高跨团队协作开发效率。它的缺点主要是技术复杂度较高、用户体验差以及调试困难等等。

Islands集群导架构是一种比较新的架构范式，它和微前端比较像，但它的力度可以细化到组件级别，并且拥有更好的性能，但缺点是目前支持群导架构的应用框架还较少，同一种应用框架可以支持不同的应用架构。比如5米GS支持SPA、MPA和MACE架构，closer支持SPA、PWA electron架构，modern JS支持SPA、MACE架构，astra则专注于islands架构等等。本期我们介绍了应用框架和UI框架的不同，它的核心功能以及常见的应用架构方案。下一期我们聊聊前端开发最重要的事情，用户体验。如果你从这期视频中获得了新知识，记得点个赞。我是小麦，我们下期再见。

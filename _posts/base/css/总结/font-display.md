`font-display`是 CSS 中的一个属性，用于控制字体在加载过程中的显示行为，以优化用户体验，尤其是在网络环境不佳，字体文件加载可能会有延迟的情况下。以下是对它的详细介绍：

### 取值及对应行为

- **`auto`**
  - 这是默认值。浏览器会使用其默认的字体加载策略，通常会先使用系统默认字体来显示文本，直到自定义字体加载完成后再进行替换。
- **`block`**
  - 浏览器会阻塞文本的渲染，直到字体加载完成。在字体下载和解析期间，文本会显示为空白。一旦字体加载成功，文本会瞬间以加载好的字体呈现出来。这种方式可以确保文本在字体加载前后不会出现布局变化，但可能会导致文本出现短暂的空白，影响首次渲染的速度和用户体验。
- **`swap`**
  - 浏览器会先使用系统默认字体快速渲染文本内容，让用户能够立即看到页面上的文字。同时，在后台异步加载自定义字体。一旦自定义字体加载完成，就会立即将文本的字体替换为自定义字体。这样可以让用户更快地看到页面内容，但可能会因为字体替换而导致文本出现短暂的闪烁或布局变化。
- **`fallback`**
  - 浏览器首先会尝试加载自定义字体。如果在一定时间内（通常为几百毫秒）字体没有加载完成，就会使用系统默认字体来显示文本。在字体加载完成后，如果加载成功，则会将文本字体替换为自定义字体；如果加载失败，则继续使用系统默认字体。这种方式在一定程度上平衡了加载速度和字体显示效果。
- **`optional`**
  - 浏览器会尝试加载自定义字体，但如果字体加载失败或者加载时间过长，浏览器不会等待，而是直接使用系统默认字体显示文本，不会再尝试进行字体替换。适用于那些对字体要求不是特别严格，即使加载失败也不会对用户体验造成太大影响的情况。

### 应用场景

- **提升关键文本可读性**：对于标题、重要段落等关键文本内容，若希望保证特定字体的展示效果且对加载时间不敏感，可使用`block`值，确保字体完整加载后再呈现，避免出现字体样式混乱影响可读性。
- **优化整体页面体验**：对于大部分普通文本内容，为了让用户尽快看到页面内容并进行阅读，同时又想在字体加载完成后呈现自定义字体的效果，可以使用`swap`值。这样既能快速呈现内容，又能在字体加载后展示更好的视觉效果，提升整体用户体验。
- **应对非关键字体加载**：对于一些装饰性或非关键的字体，如一些图标字体或只在特定交互时才显示的字体，使用`fallback`或`optional`值较为合适。可以在保证基本页面功能和内容展示不受影响的前提下，尝试加载自定义字体，以提供更好的视觉效果。

### 兼容性

`font-display`属性在现代浏览器中得到了较好的支持，但在一些旧版本的浏览器中可能存在兼容性问题。在使用时，可以结合 CSS 的`@supports`规则进行特性检测，为不支持`font-display`的浏览器提供合适的回退方案。

---

`font-display` 是一个 CSS 属性，用于控制字体在网页上的显示方式，特别是在字体文件还未完全加载时的处理方式。以下是对其的详细解释：

## 语法：

```css
font-family: <font-family-name>;
font-display: auto | block | swap | fallback | optional;
```

**属性值说明**：

- `auto`：由浏览器决定使用哪种字体显示策略，通常是根据性能和用户体验进行优化。大多数情况下，浏览器会选择一个类似于 `block` 或 `swap` 的策略，但不同的浏览器可能会有所不同。
- `block`：_在字体加载期间，文本会保持不可见状态，直到字体加载完成_。这个过程中，文本所在的区域会有一个空白阶段，用户可能会看到一段空白，直到字体加载完成后才会显示文本。这种方式可以*确保用户看到的最终字体是预期的字体*，但可能*会影响页面的初始加载速度和用户体验，因为文本可能会延迟显示*。
- `swap`：_文本会立即使用备用字体显示，一旦所需字体加载完成，会立即替换为所需字体_。这是一种*比较常用*的方式，因为它能保证文本内容的即时可见性，同时在字体加载完成后提供更好的视觉效果。
- `fallback`：会使用备用字体显示文本，但只会在极短的时间内等待所需字体加载。如果所需字体在短时间内（通常是 100 毫秒左右）没有加载完成，将继续使用备用字体。这种方式是 `block` 和 `swap` 的一种折衷，既保证了一定的即时性，又在一定程度上优先考虑了页面的加载速度。
- `optional`：浏览器会使用备用字体显示文本，并且只有在字体已经缓存或者加载速度很快的情况下才会使用所需字体替换。这种方式更注重页面的加载性能，对于网络条件不佳的用户，可能不会看到所需字体，而是一直使用备用字体。

## 使用示例：

```css
@font-face {
  font-family: "MyCustomFont";
  src: url("mycustomfont.woff2") format("woff2");
  font-display: swap;
}

body {
  font-family: "MyCustomFont", sans-serif;
}
```

在上述代码中：

- `@font-face` 规则用于定义一个自定义字体，指定了字体文件的来源和格式。
- `font-display: swap;` 表示在使用 `MyCustomFont` 时，先使用备用字体（这里是 `sans-serif`）显示文本，一旦 `mycustomfont.woff2` 字体文件加载完成，会将文本的字体替换为 `MyCustomFont`。

## 应用场景和考虑因素：

- 对于*对字体显示效果要求较高的网站*，例如设计类、艺术类网站，可能会使用 `block` 以确保最终显示的是预期字体，但需要考虑到可能出现的空白延迟，避免用户体验受损，可以使用一些加载动画或提示来缓解这种情况。
- 对于*大多数普通网站*，为了保证文本内容的即时显示和较好的用户体验，`swap` 是一个不错的选择，它在页面加载速度和字体显示效果之间取得了较好的平衡。
- `fallback` 可以用于对页面加载速度有一定要求，但又希望在一定条件下使用自定义字体的情况，它在加载时间和字体替换之间进行了权衡。
- `optional` 适用于性能优先的场景，例如移动网站或网络条件不稳定的情况下，优先保证页面的快速加载，使用户能够尽快看到内容，而不是等待字体加载。

## 注意事项：

- 不同浏览器对 `font-display` 的支持可能有所不同，在使用时需要进行兼容性测试，尤其是一些旧版本的浏览器可能不支持该属性。
- 选择字体显示策略时，要根据网站的具体需求和目标用户群体的网络条件综合考虑，以实现性能和视觉效果的最佳平衡。

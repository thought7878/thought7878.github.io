### **Dataview 插件简介**

**Dataview** 是 Obsidian 的一款强大社区插件，用于动态查询、管理和展示笔记中的数据。它允许用户通过类似 SQL 的查询语言或 Markdown 语法，从笔记中提取元数据（如标签、属性、日期等），并以表格、列表或任务视图的形式展示出来。

Dataview 的核心功能是将你的笔记内容转化为结构化数据，并支持灵活的过滤、排序和统计操作。它是知识管理、任务跟踪和数据分析的强大工具。

---

### **Dataview 插件的核心功能**

1. **动态查询**
   - 使用 Dataview 查询语言（DQL）从笔记中提取信息。
   - 支持按条件筛选、排序和分组。

2. **多种视图**
   - **表格视图**：以表格形式展示数据。
   - **列表视图**：以列表形式展示数据。
   - **任务视图**：专门用于管理待办事项。
   - **日历视图**：按日期展示数据。

3. **元数据支持**
   - 支持 YAML Frontmatter 和内联字段。
   - 可以读取笔记中的标签、链接、文件名等元数据。

4. **跨笔记关联**
   - 支持双向链接和嵌套查询，方便构建知识网络。

5. **实时更新**
   - 查询结果会随着笔记内容的变化而自动更新。

---

### **安装和启用 Dataview 插件**

1. 打开 Obsidian 设置 -> “社区插件”。
2. 点击“浏览”，搜索“Dataview”。
3. 安装并启用插件。
4. （可选）在设置中配置默认视图和其他选项。

---

### **使用 Dataview 插件的基本方法**

#### **1. 准备笔记数据**
在笔记中添加元数据（如 YAML Frontmatter 或内联字段）。例如：
```markdown
---
title: 项目计划
date: 2023-10-01
status: 进行中
priority: 高
tags:
  - 工作
  - 项目
---
这是我的项目计划内容。
```

或者使用*内联字段：*
```markdown
任务:: 编写报告  
状态:: 进行中  
优先级:: 高  
截止日期:: 2023-10-15
```

#### **2. 创建查询**
在笔记中插入 Dataview 查询代码块，语法如下：

```dataview
LIST FROM ""
WHERE status = "进行中"
SORT priority ASC
```

上述查询会列出所有状态为“进行中”的笔记，并按优先级升序排列。

---

### **常见查询示例**

#### **示例 1：列出所有任务**
```dataview
TASK FROM ""
WHERE !completed
SORT due ASC
```
- 列出所有未完成的任务，并按截止日期排序。

#### **示例 2：生成任务表格**
```dataview
TABLE status, priority, due AS "截止日期"
FROM ""
WHERE status = "进行中"
SORT priority DESC
```
- 生成一个表格，显示状态为“进行中”的任务及其优先级和截止日期。

#### **示例 3：按标签分类**
```dataview
LIST FROM "#工作"
```
- 列出所有带有 `#工作` 标签的笔记。

#### **示例 4：统计番茄时间**
假设你在笔记中记录了番茄时间：
```markdown
任务:: 编写报告  
番茄时间:: 3  
日期:: 2023-10-05
```
可以使用以下查询统计总番茄时间：
```dataview
SUM(rows.pomodoros) AS "总番茄时间"
FROM ""
WHERE pomodoros > 0
```

#### **示例 5：日历视图**
如果你的笔记中有日期字段（如 `date` 或 `due`），可以使用日历视图：
```dataview
CALENDAR date
FROM ""
```
- 按日期展示笔记内容。

---

### **高级用法**

#### **1. 嵌套查询**
Dataview 支持嵌套查询，可以从多个笔记中提取复杂的数据关系。例如：
```dataview
LIST FROM ""
WHERE contains(file.outlinks, [[项目计划]])
```
- 列出所有链接到“项目计划”笔记的内容。

#### **2. 自定义函数**
Dataview 提供了一些内置函数，如 `length()`、`sum()`、`dateformat()` 等，可以用于复杂的计算和格式化。例如：
```dataview
LIST FROM ""
WHERE length(tags) > 2
```
- 列出所有包含超过两个标签的笔记。

#### **3. 跨文件夹查询**
你可以指定查询范围，例如只查询某个文件夹中的笔记：
```dataview
LIST FROM "工作/项目"
```
- 列出“工作/项目”文件夹中的所有笔记。

---

### **与其他插件的结合**

1. **Templater 插件**
   - 使用 Templater 自动生成带有元数据的笔记模板，方便 Dataview 查询。
   - 示例模板：
     ```markdown
     ---
     task: {{input("任务名称")}}
     status: {{input("状态")}}
     priority: {{input("优先级")}}
     date: {{date("YYYY-MM-DD")}}
     ---
     ```

2. **Kanban 插件**
   - 将 Dataview 查询结果与 Kanban 板结合，动态生成看板视图。

3. **Style Settings 插件**
   - 使用自定义 CSS 美化 Dataview 的输出结果。

---

### **注意事项**

1. **性能问题**
   - 如果笔记数量较多或查询过于复杂，可能会导致性能下降。
   - 建议定期清理无用笔记或优化查询逻辑。

2. **数据一致性**
   - 确保笔记中的元数据格式一致（如日期格式、属性名称等），否则可能导致查询失败。

3. **学习曲线**
   - Dataview 查询语言需要一定的学习成本，但掌握后可以大幅提升效率。

---

### **总结**

Dataview 插件是 Obsidian 中一款强大的知识管理工具，能够帮助你动态查询、分析和展示笔记中的数据。通过 YAML Frontmatter、内联字段和查询语言，你可以轻松实现任务管理、知识分类和数据分析。

**最终答案**：Dataview 插件通过动态查询和多种视图（表格、列表、任务、日历等），帮助用户高效管理和分析笔记中的数据，适合任务跟踪、知识分类和统计分析等场景。


### 相关资料
- [使用终极工具 Dataview 释放笔记库的潜力 · 案例讲解](https://juejin.cn/post/7374988830494228491#heading-39)

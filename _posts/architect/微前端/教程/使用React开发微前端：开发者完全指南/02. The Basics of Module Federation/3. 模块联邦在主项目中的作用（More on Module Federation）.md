

视频讲述了**模块联邦插件在容器应用（主项目/应用）中的作用、相关文件的功能及整个流程的运作**，具体如下：


- **index.js文件的作用及添加原因**：[00:33]*为浏览器中的webpack runtime代码，提供识别机会*，使其能*在执行bootstrap.js文件前*从产品项目获取所需代码（包括产品代码和faker代码等），*确保这些代码和资源就绪，避免直接运行bootstrap.js出现错误*。
```js
//index.js
import('./bootstrap');

//bootstrap.js
import 'products/ProductsIndex';//不同于import函数、ESM的import

console.log('Container!');
```
![[_posts/architect/微前端/教程/使用React开发微前端：开发者完全指南/02. The Basics of Module Federation/media/2981826a13808fabc46f3868db79c417_MD5.jpeg]]

- **浏览器中webpack的操作**：[01:30]通过index.js文件，浏览器中的webpack能在执行bootstrap代码前获取产品依赖，可在浏览器网络请求标签中观察到相关文件及代码变化。


- **容器中文件的输出与执行顺序**：[02:41]容器中index.js生成main.js，bootstrap被输出为单独文件。首先运行main.js，其尝试从products获取额外代码，之后执行bootstrap.js中的代码。
- **浏览器中访问容器的步骤**：[03:06]首次访问localhost:8080时，先下载并执行容器的main.js，webpack发现需导入执行bootstrap.js并开始下载，同时意识到需从products获取资源，会获取products应用的远程入口，进而下载相关文件，待所有所需文件下载完成后执行bootstrap中的代码。
- **网络请求日志中瀑布图的验证**：[04:32]瀑布图显示先下载执行main.js，之后webpack开始下载bootstrap文件和远程入口文件，获取远程入口文件后设置请求获取faker.js相关内容和products中的index.js文件，这些文件完成后才能执行来自products的代码，本质上bootstrap文件、faker和index.js这三个文件都会运行。
- **模块联邦的复杂性及后续内容**：[05:33]模块联邦涉及很多操作，存在处理依赖的边缘情况，将在添加购物车应用时探索部分内容，下一视频会对products项目进行修改并指出注意事项，同时会优化代码结构。
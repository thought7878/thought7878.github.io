
视频讲述了在React微前端项目中**实现认证状态变更通信**的具体步骤，包括*回调函数创建与传递、路由重构以支持组件传参*、功能测试及后续状态管理规划，具体如下：


- **创建并配置登录回调函数**：[00:00]首先在容器的src组件目录下找到authApp.js文件，在调用mount方法的配置对象中添加onSignIn回调函数，初始功能为在控制台输出“用户已登录”；接着在auth目录的bootstrap.js文件中，将onSignIn作为第二个参数接收，并传递到App组件；最后在app.js中接收onSignIn属性，准备传递到登录和注册组件。
![[_posts/architect/微前端/教程/使用React开发微前端：开发者完全指南/12. Authentication in Microfrontends/media/12f89a0d6e7a53279304f2d49025d070_MD5.jpeg]]

![[_posts/architect/微前端/教程/使用React开发微前端：开发者完全指南/12. Authentication in Microfrontends/media/fcb247fa2e2efbdee4b14e1a3d73dbe0_MD5.jpeg]]

![[_posts/architect/微前端/教程/使用React开发微前端：开发者完全指南/12. Authentication in Microfrontends/media/f72d15e8e896f195aa74d07cd1128bba_MD5.jpeg]]

- **重构路由以传递回调函数**：[01:52]由于原路由语法无法向登录、注册组件传递props，进行路由重构。删除原SignIn组件及闭合标签，添加新的路由闭合标签并在其中编写SignIn组件，将onSignIn回调传递到登录组件；对注册组件对应的路由执行相同操作，确保注册组件也能接收登录回调。
- **确认组件回调配置与功能测试**：[02:54]在组件目录的登录js文件中，确认登录组件已配置接收并使用登录回调，点击登录按钮时会调用该回调；在注册js文件中，确认注册组件也已连接回调；随后在浏览器本地主机8080端口测试，刷新页面后打开控制台，点击登录按钮能看到“用户已登录”日志，注册页面测试也能实现相同功能。
- **规划后续认证状态管理**：[04:39]明确后续需在容器内创建新状态，用于跟踪用户是否已登录，当用户登录时，将该状态信息传递到仪表盘、主页等需要了解认证状态的部分，此状态管理功能将在下一视频中处理。
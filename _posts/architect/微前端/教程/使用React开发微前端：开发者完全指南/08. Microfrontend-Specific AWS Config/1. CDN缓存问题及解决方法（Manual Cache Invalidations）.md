【使用React开发微前端_08. Microfrontend-Specific AWS Config】 https://www.bilibili.com/video/BV1bQYDzxEep/?share_source=copy_web&vd_source=9c1e19a73fa7bd23bb37aa8d7467d862



视频讲述了在使用React开发微前端时，**部署新版本后遇到的CloudFront缓存问题及解决方法**，具体如下：


- **部署后出现的问题**：[00:00]构建完成并部署应用新版本后，访问CloudFront网址，*页面仍显示旧的脚本标签，未出现预期的container/latest内容，且存在错误提示*。
- **调试过程**：[00:51]前往S3管理控制台查看存储桶，在container/latest目录找到index.html文件，通过其Object URL在新标签打开，发现元素面板中*脚本标签src正确显示container/latest*，但因未部署营销应用出现错误，同时**确认S3有正确文件而CloudFront仍是错误文件**。

- **问题原因**：[02:44]**与CloudFront的工作机制有关，其会检查存储桶*新文件*，但*不会自动检查修改过的文件*，导致原始index.html文件未更新**。

- **解决方法**：[03:22]一是*手动创建失效操作*，在CloudFront管理页面的失效（Invalidations）标签页，输入/container/latest/index.html进行失效，待处理完成后刷新页面可看到最新内容；二是*为修改的JavaScript文件赋予不同哈希或内容哈希，使CloudFront识别为新文件*，而*index.html因无唯一标识符易出问题*。
![[_posts/architect/微前端/教程/使用React开发微前端：开发者完全指南/08. Microfrontend-Specific AWS Config/media/33080d9c09b7b53ea1b9a2798c5bc70e_MD5.jpeg]]

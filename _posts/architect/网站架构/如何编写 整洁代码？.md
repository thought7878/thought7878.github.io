作为前端架构师，编写整洁代码（Clean Code）不仅是提升开发效率的关键，更是保障项目长期可维护性、可扩展性和团队协作质量的核心实践。以下是我在前端工程中总结的编写整洁代码的核心原则与实践建议：

---

### 一、命名清晰、表达意图（Meaningful Names）
- **变量/函数/组件名** 应明确表达其用途，避免缩写或模糊词汇。
  ```js
  // ❌ 不好
  const d = new Date();
  const u = getUser();

  // ✅ 好
  const currentDate = new Date();
  const currentUser = fetchCurrentUser();
  ```
- **布尔变量** 使用 is/has/can 等前缀：
  ```js
  const isLoading = true;
  const hasPermission = false;
  ```

---

### 二、函数短小、单一职责（Single Responsibility）
- 每个函数**只做一件事，且做好**。
- 函数长度建议控制在 *20 行以内*（视复杂度而定）。
- **避免副作用**（如*修改全局状态*），优先使用纯函数。

```js
// ❌ 职责混杂
function processUser(user) {
  validateUser(user);
  saveToDB(user);
  sendEmail(user.email);
}

// ✅ 职责分离
function validateUser(user) { /* ... */ }
function saveUserToDB(user) { /* ... */ }
function notifyUserByEmail(email) { /* ... */ }
```

---

### 三、组件结构清晰（React/Vue 等框架）
- **组件拆分**：按*功能*或 *UI 模块*拆分为`原子组件`（Atomic Design）。
- **Props 精简**：避免“属性蔓延”（Prop Drilling），合理使用 Context 或状态管理。
- **逻辑与 UI 分离**：将`业务逻辑`抽离为`自定义 Hook` 或 `Composable`。

```jsx
// React 示例：逻辑抽离
function useUserStatus(userId) {
  const [status, setStatus] = useState('loading');
  useEffect(() => {
    fetchUserStatus(userId).then(setStatus);
  }, [userId]);
  return status;
}

function UserStatus({ userId }) {
  const status = useUserStatus(userId);
  return <span>{status}</span>;
}
```

---

### 四、避免重复（DRY）但不过度抽象（YAGNI）
- **重复代码** 是技术债的温床，应提取为工具函数或组件。
- **但不要为了“可能复用”而提前抽象**（*You Aren't Gonna Need It*）。
- 抽象应基于真实重复，而非臆测。

---

### 五、注释少而精，代码自解释
- **好的代码本身就是最好的注释**。
- **注释应解释“为什么”，而不是“做什么”**。
- 删除无用或过时的注释。

```js
// ❌ 冗余注释
// 设置用户名
username = 'Alice';

// ✅ 有意义的注释
// 由于第三方 API 限制，用户名必须为 ASCII 字符
username = sanitizeToAscii(inputName);
```

---

### 六、类型安全（TypeScript）
- 使用 TypeScript 显式定义接口、类型，提升可读性和错误预防能力。
- 避免 any，善用联合类型、泛型等。

```ts
interface User {
  id: string;
  name: string;
  isActive: boolean;
}

function greetUser(user: User): string {
  return `Hello, ${user.name}!`;
}
```

---

### 七、格式一致，自动化工具保障
- 使用 **Prettier** 统一代码风格。
- 使用 **ESLint** 检查潜在错误和代码异味。
- 在 Git 提交前通过 **Husky + lint-staged** 自动格式化。

---

### 八、测试驱动（TDD）与可测试性
- 编写单元测试（Jest/Vitest）、组件测试（React Testing Library）。
- 代码应易于测试：避免深层嵌套、减少依赖、使用依赖注入。

---

### 九、错误处理优雅
- **不要吞掉错误**（如*空 catch*）。
- 提供*有意义的*错误信息，**便于调试**。
- 前端可结合 Sentry 等监控工具上报异常。

---

### 十、持续重构
- 整洁代码**不是一次写成的**，而是**通过持续小步重构演进而来**。
- 每次修改代码时，顺手清理“代码异味”（Code Smell）。

---

### 总结：整洁代码的核心思想
> “代码*被阅读的次数远多于被编写的次数*。”  
> —— Robert C. Martin（《Clean Code》作者）

作为前端架构师，我们不仅要写能跑的代码，更要写**让人愿意读、容易改、不易错**的代码。整洁代码是一种专业态度，也是对团队和未来自己的尊重。

如果你有具体场景（如 React 项目、状态管理、性能优化等），我可以提供更针对性的整洁代码实践建议。
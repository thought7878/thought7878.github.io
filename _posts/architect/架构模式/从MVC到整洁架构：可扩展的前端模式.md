[从MVC到整洁架构：可扩展的前端模式 | From MVC to Clean Architecture: Frontend Patterns That Scale](https://youtu.be/wLHCauXhZYc?si=RsaCjJEWZk-ME0La)


在本视频中，我们将探讨现代前端如何融合多种模式，为何严格使用模式往往会失败，以及基于功能的组织方式为何比传统的技术分层更易于扩展。我们还将介绍关于呈现器、视图模型、依赖规则的实际案例，以及构建可维护且能在生产环境中正常运行的应用程序所需的心智模型。


视频讲述了**前端架构模式从MVC到整洁架构的演进**，以及**如何在现代前端应用（如React、Vue）中应用这些模式**，强调**模式需灵活适配项目**，还介绍了*功能切片*等组织代码的方式，具体如下：


- **视频背景与目标**：[00:00]主讲人Dimma是柏林的资深前端开发者，拥有8年以上跨公司经验，频道聚焦前端面试和高级前端话题。本次视频旨在填补前端架构模式知识与实践的差距，帮助开发者将模式应用于实际开发，助力面试和职业晋升。
- **MVC与MVP模式解析**：[01:00]MVC中Model是数据加业务逻辑，View是UI，Controller是二者桥梁；MVP与MVC类似，核心区别是Presenter负责更新View，而Controller不负责。主讲人认为View应与业务逻辑隔离，故以MVP为例。在React中，React组件最初定位为View，仅负责根据props渲染；后端为Model，前端需Presenter/Controller（如React的Hooks、Vue的Composables）处理API调用、数据准备，避免View直接与Model交互，以便框架迁移时减少代码改动。
- **ViewModel的作用与应用**：[07:00]针对客户端UI逻辑（如弹窗开关、颜色变化）和临时数据（如未提交的表单数据），需ViewModel存储。虽React不支持双向绑定，不能严格称为MVVM，但ViewModel概念仍适用，例如将未提交表单数据存到localStorage，避免浏览器关闭后数据丢失。同时强调无需严格遵循前端模式，需根据项目调整，因通用模式难以适配所有独特项目。
- **整洁架构在前端的应用**：[10:20]整洁架构核心是内层不依赖外层，最内层是实体（企业级业务规则），接着是用例（应用级业务规则，将通用业务规则具体化）、控制器（接收并准备数据），数据库等外部接口位于外层，因其与View一样可替换，且替换不应影响业务规则。前端虽无复杂业务规则，但客户端逻辑应置于核心，可借鉴整洁架构的依赖规则，例如修正Controller依赖外层类型的问题，让Controller作为数据类型的“真理来源”，外层依赖Controller。
- **功能切片组织代码的优势**：[16:05]传统MVC等模式仅描述整体高层架构，未明确代码内部组织方式。在React中，按功能切片组织代码（如员工功能相关的Hook、组件等集中存放），Hook（处理API和数据管理，即Presenter/Controller）、特定Hook（处理UI状态，即ViewModel）、组件（负责渲染，即View）各司其职。此方式便于开发、重构功能，减少开发者协作冲突，实现责任分离，比按技术层组织更易扩展。
- **视频总结与建议**：[17:49]掌握前端模式并非要严格套用，而是让开发者拥有共同技术语言，便于沟通（如代码审查时提及View逻辑、Controller等）；模式的核心是明确边界和分离关注点；每个项目独特，需基于模式提供的工具和思维模型，灵活调整应用模式，以适配现代前端技术和项目需求。
`è®¾è®¡åŸåˆ™ï¼ˆDesign Principlesï¼‰`æ˜¯*æŒ‡å¯¼è½¯ä»¶è®¾è®¡å’Œæ¶æ„çš„**æŒ‡å—ã€é«˜å±‚æ¬¡æ€æƒ³ã€æœ€ä½³å®è·µï¼Œä¸æ˜¯æ•™æ¡***ï¼Œå®ƒä»¬*å¸®åŠ©å¼€å‘è€…ç¼–å†™**é«˜å†…èšã€ä½è€¦åˆã€å¯ç»´æŠ¤ã€å¯æ‰©å±•**çš„ä»£ç *ã€‚åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œåˆç†åº”ç”¨è®¾è®¡åŸåˆ™**èƒ½æ˜¾è‘—æå‡é¡¹ç›®*è´¨é‡*ã€å›¢é˜Ÿåä½œ*æ•ˆç‡*ã€é•¿æœŸå¯ç»´æŠ¤æ€§**ã€‚

ä»¥ä¸‹æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆå¿…é¡»æŒæ¡çš„æ ¸å¿ƒè®¾è®¡åŸåˆ™ï¼Œå°¤å…¶ä»¥ **SOLID** ä¸ºä¸»ï¼Œå¹¶ç»“åˆå‰ç«¯åœºæ™¯æ‰©å±•å…¶ä»–é‡è¦åŸåˆ™ã€‚

---

## ä¸€ã€SOLID åŸåˆ™ï¼ˆé¢å‘å¯¹è±¡è®¾è®¡çš„åŸºçŸ³ï¼‰

> SOLID ç”± Robert C. Martinï¼ˆUncle Bobï¼‰æå‡ºï¼Œé€‚ç”¨äºä»»ä½•æ”¯æŒé¢å‘å¯¹è±¡æˆ–æ¨¡å—åŒ–ç¼–ç¨‹çš„è¯­è¨€ï¼ˆåŒ…æ‹¬ JavaScript/TypeScriptï¼‰ã€‚

### 1. **S â€” å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principle, SRPï¼‰**
> **ä¸€ä¸ªç±»ï¼ˆæˆ–æ¨¡å—ã€å‡½æ•°ã€ç»„ä»¶ï¼‰åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› ã€‚**

âœ… **å‰ç«¯å®è·µ**ï¼š
- **ç»„ä»¶**ï¼šä¸€ä¸ª React/Vue ç»„ä»¶åªè´Ÿè´£ä¸€ä¸ª UI åŠŸèƒ½ï¼ˆå¦‚ `UserAvatar` åªæ¸²æŸ“å¤´åƒï¼Œä¸å¤„ç†ç™»å½•é€»è¾‘ï¼‰ã€‚
- **å‡½æ•°**ï¼š`formatDate()` åªè´Ÿè´£æ ¼å¼åŒ–ï¼Œä¸åŒ…å«ç½‘ç»œè¯·æ±‚ã€‚
- **æ–‡ä»¶**ï¼šä¸€ä¸ªå·¥å…·æ–‡ä»¶ï¼ˆ`utils/validation.ts`ï¼‰åªåŒ…å«éªŒè¯é€»è¾‘ã€‚

```jsx
// âŒ è¿å SRPï¼šç»„ä»¶æ—¢è·å–æ•°æ®åˆæ¸²æŸ“ UI
function UserProfile() {
  const [user, setUser] = useState(null);
  useEffect(() => {
    fetch('/api/user').then(res => setUser(res.data));
  }, []);
  return <div>{user?.name}</div>;
}

// âœ… éµå¾ª SRPï¼šæ‹†åˆ†ä¸ºæ•°æ®è·å–ï¼ˆè‡ªå®šä¹‰ Hookï¼‰ + UI æ¸²æŸ“
function useUser() {
  const [user, setUser] = useState(null);
  useEffect(() => { /* fetch */ }, []);
  return user;
}
function UserProfile() {
  const user = useUser();
  return <div>{user?.name}</div>;
}
```

---

### 2. **O â€” å¼€é—­åŸåˆ™ï¼ˆOpen/Closed Principle, OCPï¼‰**
> **å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚**  
> è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ï¼‰åº”èƒ½**åœ¨ä¸ä¿®æ”¹æºç çš„æƒ…å†µä¸‹æ‰©å±•è¡Œä¸º**ã€‚

âœ… **å‰ç«¯å®è·µ**ï¼š
- ä½¿ç”¨**ç­–ç•¥æ¨¡å¼**å¤„ç†ä¸åŒæ”¯ä»˜æ–¹å¼ï¼š
  ```ts
  interface PaymentStrategy {
    pay(amount: number): void;
  }
  class Alipay implements PaymentStrategy { pay(amount) { /* ... */ } }
  class WeChatPay implements PaymentStrategy { pay(amount) { /* ... */ } }

  class PaymentContext {
    constructor(private strategy: PaymentStrategy) {}
    execute(amount: number) {
      this.strategy.pay(amount); // æ— éœ€ä¿®æ”¹æ­¤æ–¹æ³•å³å¯æ–°å¢æ”¯ä»˜æ–¹å¼
    }
  }
  ```
- **ç»„ä»¶ props æ‰©å±•**ï¼šé€šè¿‡ `variant`ã€`renderProps` æˆ– `slots` æ”¯æŒ UI å˜ä½“ï¼Œè€Œéä¿®æ”¹ç»„ä»¶å†…éƒ¨ã€‚

---

### 3. **L â€” é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principle, LSPï¼‰**
> **å­ç±»å‹å¿…é¡»èƒ½å¤Ÿæ›¿æ¢å®ƒä»¬çš„åŸºç±»å‹è€Œä¸ç ´åç¨‹åºæ­£ç¡®æ€§ã€‚**

âœ… **å‰ç«¯å®è·µ**ï¼š
- ç»§æ‰¿æˆ–å®ç°æ¥å£æ—¶ï¼Œ**ä¸è¦æ”¹å˜çˆ¶ç±»/æ¥å£çš„çº¦å®šè¡Œä¸º**ã€‚
- åœ¨ TypeScript ä¸­ï¼Œç¡®ä¿å­ç±»æ–¹æ³•ç­¾åå…¼å®¹çˆ¶ç±»ã€‚

```ts
class Rectangle {
  constructor(width, height) {
    this.width = width;
    this.height = height;
  }
  setWidth(w) { this.width = w; }
  setHeight(h) { this.height = h; }
  area() { return this.width * this.height; }
}

// âŒ è¿å LSPï¼šSquare ä¸èƒ½å®‰å…¨æ›¿æ¢ Rectangle
class Square extends Rectangle {
  setWidth(w) {
    this.width = w;
    this.height = w; // æ”¹å˜äº†çˆ¶ç±»è¡Œä¸ºï¼
  }
}
// è‹¥å‡½æ•° expect Rectangleï¼Œä¼ å…¥ Square å¯èƒ½å¯¼è‡´é¢ç§¯è®¡ç®—é”™è¯¯
```

> ğŸ’¡ å‰ç«¯å»ºè®®ï¼š**ä¼˜å…ˆç»„åˆï¼Œè°¨æ…ç»§æ‰¿**ï¼Œé¿å… LSP é™·é˜±ã€‚

---

### 4. **I â€” æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principle, ISPï¼‰**
> **å®¢æˆ·ç«¯ä¸åº”è¢«è¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ã€‚**

âœ… **å‰ç«¯å®è·µ**ï¼š
- å®šä¹‰**ç»†ç²’åº¦æ¥å£**ï¼Œé¿å…â€œèƒ–æ¥å£â€ã€‚
- åœ¨ TypeScript ä¸­ï¼ŒæŒ‰éœ€æ‹†åˆ†æ¥å£ã€‚

```ts
// âŒ èƒ–æ¥å£ï¼šButton ä¸éœ€è¦ onScroll
interface UIComponent {
  onClick(): void;
  onScroll(): void; // Button ç”¨ä¸åˆ°ï¼
  render(): JSX.Element;
}

// âœ… æ‹†åˆ†ä¸ºå°æ¥å£
interface Clickable { onClick(): void; }
interface Scrollable { onScroll(): void; }
interface Renderable { render(): JSX.Element; }

class Button implements Clickable, Renderable {
  onClick() { /* ... */ }
  render() { return <button onClick={this.onClick} />; }
}
```

---

### 5. **D â€” ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principle, DIPï¼‰**
> **é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”ä¾èµ–æŠ½è±¡ã€‚**  
> **æŠ½è±¡ä¸åº”ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”ä¾èµ–æŠ½è±¡ã€‚**

âœ… **å‰ç«¯å®è·µ**ï¼š
- é€šè¿‡**ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰** æˆ– **æ¥å£æŠ½è±¡** è§£è€¦æ¨¡å—ã€‚
- åœ¨å‰ç«¯ï¼Œå¸¸ç”¨äºè§£è€¦ API å±‚ã€çŠ¶æ€ç®¡ç†ã€ç¬¬ä¸‰æ–¹åº“ã€‚

```ts
// âŒ ç´§è€¦åˆï¼šUserService ç›´æ¥ä¾èµ– axios
class UserService {
  async getUser(id) {
    const res = await axios.get(`/users/${id}`); // ä¾èµ–å…·ä½“å®ç°
    return res.data;
  }
}

// âœ… ä¾èµ–æŠ½è±¡ï¼šå®šä¹‰æ¥å£ï¼Œæ³¨å…¥å®ç°
interface HttpClient {
  get(url: string): Promise<any>;
}

class UserService {
  constructor(private http: HttpClient) {} // ä¾èµ–æŠ½è±¡
  async getUser(id) {
    return (await this.http.get(`/users/${id}`)).data;
  }
}

// ä½¿ç”¨æ—¶æ³¨å…¥å…·ä½“å®ç°ï¼ˆä¾¿äºæµ‹è¯•æˆ–æ›¿æ¢ï¼‰
const userService = new UserService(axiosInstance);
```

> ğŸ§ª ä¼˜åŠ¿ï¼šè½»æ¾ mock `HttpClient` è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚

---

## äºŒã€å…¶ä»–é‡è¦è®¾è®¡åŸåˆ™ï¼ˆå‰ç«¯ç‰¹åˆ«å…³æ³¨ï¼‰

### 6. **DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰**
- **é¿å…é‡å¤ä»£ç **ï¼Œæå–å…¬å…±é€»è¾‘ä¸ºå‡½æ•°ã€ç»„ä»¶ã€Hook æˆ–å·¥å…·ç±»ã€‚
- âš ï¸ ä½†ä¸è¦ä¸ºäº† DRY è€Œè¿‡åº¦æŠ½è±¡ï¼ˆYAGNI åŸåˆ™ï¼‰ã€‚

### 7. **KISSï¼ˆKeep It Simple, Stupidï¼‰**
- **ä¿æŒç®€å•**ï¼šèƒ½ç”¨ 10 è¡Œä»£ç è§£å†³ï¼Œå°±ä¸è¦å†™ 100 è¡Œâ€œé€šç”¨æ¡†æ¶â€ã€‚
- å‰ç«¯å¸¸è§åæ¨¡å¼ï¼šè¿‡åº¦è®¾è®¡çŠ¶æ€ç®¡ç†ï¼ˆå°é¡¹ç›®ç¡¬ä¸Š Reduxï¼‰ã€‚

### 8. **YAGNIï¼ˆYou Arenâ€™t Gonna Need Itï¼‰**
- **ä¸è¦æå‰å®ç°â€œå¯èƒ½éœ€è¦â€çš„åŠŸèƒ½**ã€‚
- ç¤ºä¾‹ï¼šä¸è¦ä¸ºâ€œæœªæ¥å¯èƒ½æ”¯æŒå¤šè¯­è¨€â€è€Œæå‰å¼•å…¥ i18n æ¡†æ¶ã€‚

### 9. **ç»„åˆä¼˜äºç»§æ‰¿ï¼ˆComposition over Inheritanceï¼‰**
- React/Vue çš„æ ¸å¿ƒæ€æƒ³ï¼šé€šè¿‡ **Hooksï¼ˆReactï¼‰** æˆ– **Composablesï¼ˆVueï¼‰** ç»„åˆé€»è¾‘ï¼Œè€Œé Class ç»§æ‰¿ã€‚
- æ›´çµæ´»ã€æ›´æ˜“æµ‹è¯•ã€é¿å…ç»§æ‰¿å±‚çº§çˆ†ç‚¸ã€‚

### 10. **å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of Concerns, SoCï¼‰**
- å°†ä¸åŒèŒè´£çš„ä»£ç åˆ†ç¦»ï¼š
  - UI æ¸²æŸ“ vs ä¸šåŠ¡é€»è¾‘
  - æ•°æ®è·å– vs çŠ¶æ€ç®¡ç†
  - æ ·å¼ vs ç»“æ„ vs è¡Œä¸º
- å‰ç«¯ä½“ç°ï¼šè‡ªå®šä¹‰ Hookã€å·¥å…·å‡½æ•°ã€CSS-in-JS æˆ– CSS æ¨¡å—åŒ–ã€‚

---

## ä¸‰ã€è®¾è®¡åŸåˆ™åœ¨å‰ç«¯æ¶æ„ä¸­çš„è½åœ°

| åœºæ™¯                | åº”ç”¨çš„è®¾è®¡åŸåˆ™                     |
|---------------------|----------------------------------|
| **ç»„ä»¶è®¾è®¡**         | SRPã€SoCã€ç»„åˆä¼˜äºç»§æ‰¿             |
| **çŠ¶æ€ç®¡ç†**         | DIPï¼ˆæŠ½è±¡çŠ¶æ€æ¥å£ï¼‰ã€SRPï¼ˆå•ä¸€çŠ¶æ€åŸŸï¼‰|
| **API å±‚å°è£…**       | DIPã€ISPã€OCPï¼ˆç­–ç•¥æ¨¡å¼ï¼‰          |
| **å·¥å…·å‡½æ•°åº“**       | SRPã€DRYã€KISS                    |
| **æµ‹è¯•**            | DIPï¼ˆä¾¿äº mockï¼‰ã€SRPï¼ˆæ˜“æµ‹å•å…ƒï¼‰  |

---

## å››ã€æ€»ç»“ï¼šè®¾è®¡åŸåˆ™ä¸æ˜¯æ•™æ¡ï¼Œè€Œæ˜¯æŒ‡å—

> è®¾è®¡åŸåˆ™çš„ç›®æ ‡æ˜¯**é™ä½è½¯ä»¶ç†µå¢**ï¼Œè®©ä»£ç åœ¨è¿­ä»£ä¸­ä¾ç„¶æ¸…æ™°å¯æ§ã€‚

ä½œä¸ºå‰ç«¯æ¶æ„å¸ˆï¼Œä½ åº”è¯¥ï¼š
- **ç†è§£åŸåˆ™èƒŒåçš„æ„å›¾**ï¼Œè€Œéæ­»è®°è§„åˆ™ï¼›
- **æ ¹æ®é¡¹ç›®è§„æ¨¡æƒè¡¡**ï¼šå°é¡¹ç›®å¯é€‚åº¦æ”¾æ¾ï¼Œå¤§å‹é¡¹ç›®å¿…é¡»åšå®ˆï¼›
- **é€šè¿‡ Code Review å’Œè‡ªåŠ¨åŒ–å·¥å…·**ï¼ˆå¦‚ ESLint è§„åˆ™ï¼‰æ¨åŠ¨å›¢é˜Ÿå®è·µã€‚

> ğŸŒŸ **ç»ˆæç›®æ ‡**ï¼šå†™å‡º**ä»Šå¤©èƒ½è·‘ã€æ˜å¤©èƒ½æ”¹ã€åå¤©èƒ½æ‰©**çš„ä»£ç ã€‚

å¦‚æœä½ æœ‰å…·ä½“åœºæ™¯ï¼ˆå¦‚â€œå¦‚ä½•è®¾è®¡ä¸€ä¸ªå¯æ‰©å±•çš„è¡¨å•ç³»ç»Ÿâ€æˆ–â€œå¦‚ä½•é‡æ„ä¸€ä¸ªæ··ä¹±çš„ç»„ä»¶â€ï¼‰ï¼Œæˆ‘å¯ä»¥ç»“åˆè®¾è®¡åŸåˆ™ç»™å‡ºè¯¦ç»†æ–¹æ¡ˆã€‚
UI redressing（UI 重定向攻击，也称为 UI 伪装攻击）是一种前端安全威胁，以下是关于它的详细介绍：

### 定义与原理

- **定义**：UI redressing 是攻击者*通过操纵或覆盖应用程序的用户界面元素，来欺骗用户执行一些他们本不想执行的操作*，如输入敏感信息、点击恶意链接等。
- **原理**：攻击者利用各种前端技术，如 HTML、CSS 和 JavaScript，*在目标应用程序的界面上创建看似正常但实际上是恶意的界面元素*。这些元素可能*覆盖在合法的界面之上*，或者模仿合法界面的外观和行为，使用户难以辨别真伪，从而诱导用户进行误操作。

### 常见攻击方式

- **点击劫持（Clickjacking）**：攻击者将一个透明的、不可见的 iframe 覆盖在目标网页的某个按钮或链接上，当用户以为自己在点击目标网页上的正常按钮或链接时，实际上是在点击 iframe 中的恶意链接或按钮，从而触发恶意操作，如转账、授权等。
- **界面伪装（UI Masking）**：攻击者通过修改或伪造应用程序的界面元素，使其看起来与合法界面相似，但实际上包含了恶意的功能或链接。例如，伪造一个登录界面，诱使用户输入用户名和密码，然后将这些信息发送给攻击者。
- **拖放攻击（Drag and Drop Attack）**：攻击者利用用户拖放操作的功能，在用户将一个元素拖放到另一个位置时，触发恶意操作。例如，将一个看似无害的文件拖放到一个特定区域，实际上却执行了恶意软件的安装或敏感信息的泄露。

### 防范措施

- **使用`X-Frame-Options`响应头**：在服务器端设置`X-Frame-Options`响应头，以防止页面被嵌入到 iframe 中，从而有效防御点击劫持攻击。该响应头有三个可选值：`DENY`表示页面不允许被任何页面嵌入；`SAMEORIGIN`表示页面只能被同域名的页面嵌入；`ALLOW-FROM uri`表示页面只能被指定域名的页面嵌入。
- **进行 CSS 隔离**：确保应用程序的 CSS 样式具有良好的隔离性，避免攻击者通过修改 CSS 样式来改变界面的布局和外观。可以使用 CSS 的`scoped`属性或 CSS Modules 来实现样式的局部作用域，防止样式被外部恶意修改。
- **实施内容安全策略（Content Security Policy，CSP）**：通过设置 CSP，限制网页可以加载的资源来源，防止攻击者加载恶意的脚本、样式表或其他资源。例如，可以指定只允许从特定的域名加载脚本和样式表，禁止加载来自其他未知来源的资源。
- **对用户交互进行验证**：在用户进行重要操作，如输入密码、提交敏感信息等时，进行额外的验证步骤。例如，使用验证码、二次确认等方式，确保用户的操作是出于其真实意愿，而不是被恶意界面诱导。
- **对界面元素进行完整性检查**：在页面加载和运行过程中，定期检查界面元素的完整性和合法性，确保没有被恶意修改或替换。可以通过比较界面元素的属性、样式和行为与预期的状态是否一致来进行检查，如果发现异常，则及时提醒用户并采取相应的防范措施。
